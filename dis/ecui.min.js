var ecui;!function(){!function(){function t(t,e){for(;t&&1!=t.nodeType;t=t[e]);return t}var e,i=ecui={},n=i.array={},s=i.dom={},o=(i.ext={},i.json={}),r=i.string={},a=(i.ui={},i.util={}),u=window,l=document,h=Function,c=Math,d=RegExp,f=c.abs,g=(c.ceil,c.floor),p=c.max,m=(c.min,c.pow,c.round,parseInt),v=isNaN,$=navigator.userAgent,b="CSS1Compat"==l.compatMode,y=/msie (\d+\.\d)/i.test($)?l.documentMode||d.$1-0:e,_=/firefox\/(\d+\.\d)/i.test($)?d.$1-0:e,S=/opera\/(\d+\.\d)/i.test($)?d.$1-0:e,T=/(\d+\.\d)(\.\d)?\s+safari/i.test($)&&!/chrome/i.test($)?d.$1-0:e,C={utf8:{byteLength:function(t){return t.replace(/[\x80-\u07ff]/g,"  ").replace(/[\u0800-\uffff]/g,"   ").length},codeLength:function(t){return t>2047?3:t>127?2:1}},gbk:{byteLength:function(t){return t.replace(/[\x80-\uffff]/g,"  ").length},codeLength:function(t){return t>127?2:1}},"":{byteLength:function(t){return t.length},codeLength:function(){return 1}}},x={display:8>y?{get:function(t,e){return"inline"==e.display&&1==e.zoom?"inline-block":e.display},set:function(t,e){"inline-block"==e&&(e="inline",t.style.zoom=1),t.style.display=e}}:3>_?{get:function(t,e){return"-moz-inline-box"==e.display?"inline-block":e.display},set:function(t,e){t.style.display="inline-block"==e?"-moz-inline-box":e}}:e,opacity:y?{get:function(t,e){return/alpha\(opacity=(\d+)/.test(e.filter)?(d.$1-0)/100+"":"1"},set:function(t,e){t.style.filter=t.style.filter.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+100*e+")"}}:e,"float":y?"styleFloat":"cssFloat"},w=(n.indexOf=function(t,e){for(var i=t.length;i--&&t[i]!==e;);return i},n.remove=function(t,e){for(var i=t.length;i--;)t[i]===e&&t.splice(i,1)},s.addClass=function(t,e){t.className+=" "+e},s.children=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)1==i.nodeType&&e.push(i);return e},s.contain=_?function(t,e){return t==e||!!(16&t.compareDocumentPosition(e))}:function(t,e){return t.contains(e)},s.create=function(t,e,i){return i=l.createElement(i||"DIV"),t&&(i.className=t),e&&(i.style.cssText=e),i}),P=(s.first=function(e){return t(e.firstChild,"nextSibling")},s.getAttribute=8>y?function(t,e){return t[e]}:function(t,e){return t.getAttribute(e)}),H=s.getParent=y?function(t){return t.parentElement}:function(t){return t.parentNode},B=(s.getPosition=function(t){var e=0,i=0,n=l.body,s=H(n);if(y)b||(o=B(n),v(e=m(o.borderTopWidth))&&(e=-2),v(i=m(o.borderLeftWidth))&&(i=-2)),o=t.getBoundingClientRect(),e+=s.scrollTop+n.scrollTop-s.clientTop+g(o.top),i+=s.scrollLeft+n.scrollLeft-s.clientLeft+g(o.left);else if(t==n)e=s.scrollTop+n.scrollTop,i=s.scrollLeft+n.scrollLeft;else if(t!=s){for(o=t;o;o=o.offsetParent)e+=o.offsetTop,i+=o.offsetLeft;(S||/webkit/i.test($)&&"absolute"==B(t,"position"))&&(e-=n.offsetTop);for(var o=H(t),r=B(t);o!=n;o=H(o),r=t)i-=o.scrollLeft,S?"TR"!=o.tagName&&(e-=o.scrollTop):(t=B(o),s=_&&"visible"!=t.overflow&&"absolute"==r.position?2:1,e+=V(t.borderTopWidth)*s-o.scrollTop,i+=V(t.borderLeftWidth)*s)}return{top:e,left:i}},s.getStyle=function(t,e){var i=x[e],n=t.currentStyle||(y?t.style:getComputedStyle(t,null));return e?i&&i.get?i.get(t,n):n[i||e]:n}),W=(s.getText=_?function(t){return t.textContent}:function(t){return t.innerText},s.insertAfter=function(t,e){var i=H(e);return i?i.insertBefore(t,e.nextSibling):M(t)},s.insertBefore=function(t,e){var i=H(e);return i?i.insertBefore(t,e):M(t)},s.insertHTML=_?function(t,e,i){var n={AFTERBEGIN:"selectNodeContents",BEFOREEND:"selectNodeContents",BEFOREBEGIN:"setStartBefore",AFTEREND:"setEndAfter"}[e.toUpperCase()],s=l.createRange();s[n](t),s.collapse(e.length>9),s.insertNode(s.createContextualFragment(i))}:function(t,e,i){t.insertAdjacentHTML(e,i)}),M=(s.last=function(e){return t(e.lastChild,"previousSibling")},s.moveElements=function(t,e,i){for(var n=t.firstChild;n;n=t)t=n.nextSibling,(i||1==n.nodeType)&&e.appendChild(n)},s.next=function(e){return t(e.nextSibling,"nextSibling")},s.remove=function(t){var e=H(t);return e&&e.removeChild(t),t}),I=(s.removeClass=function(t,e){for(var i=t.className.split(/\s+/).sort(),n=e.split(/\s+/).sort(),s=i.length,o=n.length;s&&o;)i[s-1]==n[o-1]?i.splice(--s,1):i[s-1]<n[o-1]?o--:s--;t.className=i.join(" ")},s.setInput=function(t,i,n){if(!t)if("textarea"==n)t=w("","","textarea");else{if(9>y)return w("","",'<input type="'+(n||"")+'" name="'+(i||"")+'">');t=w("","","input")}return i=i===e?t.name:i,n=n===e?t.type:n,(t.name!=i||t.type!=n)&&(y&&"textarea"!=n||t.type!=n&&("textarea"==t.type||"textarea"==n)?(W(t,"AFTEREND","<"+("textarea"==n?"textarea":'input type="'+n+'"')+' name="'+i+'" class="'+t.className+'" style="'+t.style.cssText+'" '+(t.disabled?"disabled":"")+(t.readOnly?" readOnly":"")+">"),i=t,(t=t.nextSibling).value=i.value,"radio"==n&&(t.checked=i.checked),M(i)):(t.type=n,t.name=i)),t},s.setStyle=function(t,e,i){var n=x[e];n&&n.set?n.set(t,i):t.style[n||e]=i},s.setText=_?function(t,e){t.textContent=e}:function(t,e){t.innerText=e},o.parse=function(t){return new Function("return ("+t+")")()},o.stringify=function(){function t(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=o[t];return e?e:(e=t.charCodeAt(),"\\u00"+g(e/16)+(e%16).toString(16))})),'"'+t+'"'}function i(t){for(var i,i,n=0,s=[],o=t.length,n=0,s=[],o=t.length;o>n;n++)(i=I(t[n]))!==e&&s.push(i);return"["+s.join(",")+"]"}function n(t){return 10>t?"0"+t:t}function s(t){return'"'+t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+"T"+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())+'"'}var o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(n){switch(typeof n){case"undefined":case"function":case"unknown":return e;case"number":if(!isFinite(n))return"null";case"boolean":return n.toString();case"string":return t(n);default:if(null===n)return"null";if(n instanceof Array)return i(n);if(n instanceof Date)return s(n);var o,r=[];for(var a in n)(o=I(n[a]))!==e&&r.push(t(a)+":"+o);return"{"+r.join(",")+"}"}}}()),E=(r.decodeHTML=function(){var t={quot:'"',lt:"<",gt:">",amp:"&"};return function(e){return e.replace(/&(quot|lt|gt|amp|#([\d]+));/g,function(e,i,n){return t[i]||String.fromCharCode(+n)})}}(),r.encodeHTML=function(t){return t+="",t.replace(/[&<>"']/g,function(t){return"&#"+t.charCodeAt(0)+";"})},r.getByteLength=function(t,e){return C[e||""].byteLength(t)},r.sliceByte=function(t,e,i){for(var n=0,s=C[i||""].codeLength;n<t.length;n++)if(e-=s(t.charCodeAt(n)),0>e)return t.slice(0,n);return t},r.toCamelCase=function(t){return t.indexOf("-")<0?t:t.replace(/\-./g,function(t){return t.charAt(1).toUpperCase()})},r.toHalfWidth=function(t){return t.replace(/[\u3000\uFF01-\uFF5E]/g,function(t){return String.fromCharCode(p(t.charCodeAt(0)-65248,32))})},r.trim=function(t){return t&&t.replace(/^\s+|\s+$/g,"")},r.formatDate=function(t,e){var i=t.getFullYear(),n=t.getMonth()+1,s=t.getDate(),o=t.getHours(),r=t.getMinutes(),a=t.getSeconds();return e.replace(/(y+|M+|d+|H+|h+|m+|s+)/g,function(t){var e=t.length;switch(t.charAt()){case"y":return e>2?i:i.toString().slice(2);case"M":t=n;break;case"d":t=s;break;case"H":t=o;break;case"h":t=o%12;break;case"m":t=r;break;case"s":t=a}return e>1&&10>t?"0"+t:t})},a.attachEvent=y?function(t,e,i){t.attachEvent("on"+e,i)}:function(t,e,i){t.addEventListener(e,i,!1)}),N=(a.blank=function(){},a.callSuper=function(t,i){function n(t,e){for(;t;t=t.constructor.superClass)if(t[i]==e){for(;t=t.constructor.superClass;)if(t[i]!=e)return t[i];return null}}var s=t.constructor.prototype,o=N.caller,r=n(s,o);return r===e&&(r=n(s,o.caller)),r?r.apply(t,o.arguments):void 0}),L=(a.cancel=function(){return!1},a.detachEvent=y?function(t,e,i){t.detachEvent("on"+e,i)}:function(t,e,i){t.removeEventListener(e,i,!1)},a.extend=function(t,e){for(var i in e)t[i]=e[i];return t}),z=(a.getView=function(){var t=l.body,e=H(t),i=b?e:t,n=e.scrollTop+t.scrollTop,s=e.scrollLeft+t.scrollLeft,o=i.clientWidth,r=i.clientHeight;return{top:n,right:s+o,bottom:n+r,left:s,width:o,height:r,pageWidth:p(e.scrollWidth,t.scrollWidth,o),pageHeight:p(e.scrollHeight,t.scrollHeight,r)}},a.inherits=function(t,e){var i=t.prototype,n=new h;return n.prototype=e.prototype,L(t.prototype=new n,i),t.prototype.constructor=t,t.superClass=e.prototype,t.prototype},a.setDefault=function(t,e,i){t.hasOwnProperty(e)||(t[e]=i)},a.timer=function(t,e,i){function n(){return(0>e?setInterval:setTimeout)(function(){t.apply(i,o),0>e||(t=i=o=null)},f(e))}var s,o=Array.prototype.slice.call(arguments,3),r=n();return function(a){(0>e?clearInterval:clearTimeout)(r),a?(s&&(r=n()),s=!s):t=i=o=null}}),V=a.toNumber=function(t){return m(t)||0};s.ready=function(){function t(){if(!s){s=!0;for(var t,e=0;t=o[e++];)t()}}var i,n,s=!1,o=[];return l.addEventListener&&!S?l.addEventListener("DOMContentLoaded",t,!1):y&&u==top?i=function(){try{l.documentElement.doScroll("left"),t()}catch(e){z(i,0)}}:T&&(i=function(){var s,o=0,r=l.readyState;if("loaded"!=r&&"complete"!=r)z(i,0);else{if(n===e&&(n=0,(s=l.getElementsByTagName("style"))&&(n+=s.length),s=l.getElementsByTagName("link")))for(;r=s[o++];)"stylesheet"==P(r,"rel")&&n++;l.styleSheets.length!=n?z(i,0):t()}}),i&&i(),E(u,"load",t),function(t){s?t():o.push(t)}}();try{l.execCommand("BackgroundImageCache",!1,!0)}catch(k){}}(),function(){var t,e,i,n,s,o,r,a,u,l,h,c,d,f,g,p,m,v,$,b,y,_,S,T,C,x,w,P,H,B,W,M,I,E,N=ecui,L=N.array,z=N.dom,V=N.ext,k=N.string,D=N.util,O=N.ui,R=window,A=document,F=Date,Y=Math,U=RegExp,X=Y.abs,j=Y.max,q=Y.min,G=isNaN,K=navigator.userAgent,J="CSS1Compat"==A.compatMode,Q=/msie (\d+\.\d)/i.test(K)?A.documentMode||U.$1-0:t,Z=/firefox\/(\d+\.\d)/i.test(K)?U.$1-0:t,te=L.indexOf,ee=L.remove,ie=z.addClass,ne=z.contain,se=z.create,oe=z.getAttribute,re=z.getParent,ae=z.getPosition,ue=z.getStyle,le=z.insertHTML,he=z.ready,ce=z.remove,de=z.removeClass,fe=z.setStyle,ge=k.toCamelCase,pe=D.attachEvent,me=D.blank,ve=D.detachEvent,$e=D.extend,be=D.getView,ye=D.inherits,_e=D.timer,Se=D.toNumber,Te=N.NORMAL=0,Ce=N.LOADING=1,xe=N.REPAINT=2,we=N.findControl=function(t){for(;t;t=re(t))if(t.getControl)return t.getControl();return null},Pe=["mousedown","mouseover","mousemove","mouseout","mouseup","click","dblclick","focus","blur","activate","deactivate","keydown","keypress","keyup","mousewheel"];!function(){function L(e,i,n,s){for(n=n||new Ge(i),n.cancelBubble=!1;e!=s;e=e.getParent())if(n.returnValue=t,I(e,i,n),n.cancelBubble)return}function z(t,e){if(t!=e){for(var i=0,n=[],s=[];t;t=t.getParent())n.push(t);for(;e;e=e.getParent())s.push(e);for(n.reverse(),s.reverse();n[i]==s[i];i++);t=n[i-1]}return t||null}function k(){return this._cControl}function D(t,e,i,n){var s=t.getOuter().style,o=t.getX(),r=t.getY();s.left=o+"px",s.top=r+"px",s.position="absolute",i.target=t,i.actived=Xe,Ee(i),Xe=null,I(t,n+"start",e),Q&&A.body.setCapture()}function Y(){if(!Ue){Ye=Ce;for(t in V)Ze[t]=V[t];for(t in ui)pe(A,t,ui[t]);Ue={};var t=y(A.body,"data-ecui");return Je=t.name||Je,Le=t.globalId,ze=te(["class","all"],t.structural)+1,le(A.body,"BEFOREEND",'<div style="position:absolute;overflow:scroll;top:-90px;left:-90px;width:80px;height:80px;border:1px solid"><div style="position:absolute;top:0px;height:90px"></div></div>'),t=A.body.lastChild,Ve=t.offsetWidth>80,ke=t.lastChild.offsetTop,De=t.offsetWidth-t.clientWidth-2,ce(t),pe(R,"resize",fi),pe(R,"unload",function(){for(var e=0;t=ii[e++];)t.$dispose();A=ti=null}),pe(R,"scroll",Me),di(A.body),ie(A.body,"ecui-loaded"),Ye=Te,!0}}function K(){return Fe.time>(new F).getTime()-200}function He(t){var e=t.target,i=ae(e),n=ue(e);return t.pageX-i.left-Se(n.borderLeftWidth)>=e.clientWidth!=t.pageY-i.top-Se(n.borderTopWidth)>=e.clientHeight}function Be(t,e){L(Xe=t,"activate",e),L(t,"mousedown",e),Ie(t,e)}function We(t,e){if(t.oncreate&&t.oncreate(e),ii.push(t),e.id&&(Ue[e.id]=t,Le&&(R[e.id]=t)),e.ext)for(var i in e.ext)Ze[i]&&(Ze[i](t,e.ext[i],e),(i=t["$init"+i.charAt(0).toUpperCase()+ge(i.slice(1))])&&i.call(t,e))}function Me(t){t=E(t);for(var e,i=0;e=ni[i++];)I(e,"pagescroll",t);P(!0)}function Ie(t,e){for(;t;t=t.getParent())if(!t.isUserSelect())return e.preventDefault(),void 0}function Ee(t){var e={};Ne(ui,!0),$e(e,ui),$e(e,t),e.x=Re,e.y=Ae,Ne(e),ai.push(ui),ui=e}function Ne(t,e){for(var i,n=0,s=e?ve:pe;5>n;)t[i=Pe[n++]]&&s(A,i,t[i])}var Le,ze,Ve,ke,De,Oe,Re,Ae,Fe,Ye,Ue,Xe,je,qe,Ge=O.Event=function(t,e){this.type=t,e?(this.pageX=e.pageX,this.pageY=e.pageY,this.which=e.which,this.target=e.target,this._oNative=e):(this.pageX=Re,this.pageY=Ae,this.which=ei,this.target=A)},Ke=Ge.prototype,Je="ecui",Qe=0,Ze={},ti=[],ei=0,ii=[],ni=[],si=0,oi={},ri={},ai=[],ui={click:function(t){t=E(t);var e=we(t.target);e&&e.isDisabled()&&t.preventDefault()},mousedown:function(e){if(Xe)return L(Xe,"deactivate"),Xe=null,void 0;e=E(e);var i="ui-monthview-item",n=e.getControl(i),s=8>Q&&He(e),o=n;if(Fe&&K()||(Fe={time:(new F).getTime()}),n){if(s)return;if(n._bDisabled)return Be(n,e),void 0;for(;o;o=o.getParent())if(o.isFocusable()){o!=n&&o.contain(qe)||M(o);break}s||Be(n,e)}else(n=we(o=e.target))&&(Ie(n,e),("INPUT"==o.tagName||"SELECT"==o.tagName||"TEXTAREA"==o.tagName||"BUTTON"==o.tagName)&&_e(function(){o.blur()})),M(),Xe=t},mouseover:function(t){if("drag"!=ui.type&&"zoom"!=ui.type){t=E(t);var e=t.getControl(),i=z(e,je);L(je,"mouseout",t,i),L(e,"mouseover",t,i),je=e}},mousemove:function(t){t=E(t);var e=t.getControl();L(e,"mousemove",t)},mouseup:function(t){t=E(t);var e,i=t.getControl();null!==Xe&&(L(i,"mouseup",t),Xe&&(e=z(i,Xe),L(e,"click",t),Fe&&(K()&&Fe.target==i?(L(e,"dblclick",t),Fe=null):Fe.target=i),L(Xe,"deactivate",t)),Xe=null)}},li={type:"drag",mousemove:function(t){t=E(t);var e=ui.target,i=e.getX()+Re-ui.x,n=e.getY()+Ae-ui.y,s=q(j(i,ui.left),ui.right),o=q(j(n,ui.top),ui.bottom);I(e,"dragmove",t,[s,o])&&e.setPosition(s,o),ui.x=Re+e.getX()-i,ui.y=Ae+e.getY()-n},mouseup:function(t){t=E(t);var e=ui.target;I(e,"dragend",t),Xe=ui.actived,W(),ui.mouseover(t),ui.mouseup(t)}},hi={type:"intercept",mousedown:function(t){t=E(t);var e=ui.target,i=ui,n=t.getControl();Fe=null,He(t)||(n&&!n.isFocusable()?Be(n,t):I(e,"intercept",t)?W():t.cancelBubble||(i==ui?n&&Be(n,t):ui.mousedown(t)))}},ci={type:"zoom",mousemove:function(t){t=E(t);var e=ui.target,i=ui.width=Re-ui.x+ui.width,n=ui.height=Ae-ui.y+ui.height,s=ui.minWidth,o=ui.maxWidth,r=ui.minHeight,a=ui.maxHeight;ui.x=Re,ui.y=Ae,i=s>i?s:i>o?o:i,n=r>n?r:n>a?a:n,e.setPosition(ui.left+q(i,0),ui.top+q(n,0)),I(e,"zoom",t)&&e.setSize(X(i),X(n))},mouseup:function(t){t=E(t);var e=ui.target;I(e,"zoomend",t),Xe=ui.actived,W(),fi(),ui.mouseover(t),ui.mouseup(t)}},di=N.init=function(t){if(!Y()&&t){var e,i=0,n=[],o=t.all||t.getElementsByTagName("*"),r=[t],a={};for(Qe++||ve(R,"resize",fi);e=o[i++];)oe(e,Je)&&r.push(e);for(i=0;t=r[i];i++)o=y(t),(e=o.type)&&(o.main=t,n.push(s(O[ge(e.charAt(0).toUpperCase()+e.slice(1))],o)),o.id&&(a[o.id]=n[n.length-1]));for(i=0;e=n[i++];)e.cache();for(i=0;e=n[i++];)e.init();return--Qe||pe(R,"resize",fi),a}},fi=N.repaint=function(){var e,i=0,n=[],s=[];if(Q){if(e=(J?A.documentElement:A.body).clientWidth,Oe==e)return Me(new Ge("scroll")),void 0;Oe=e}if(Ye=xe,e=ui.type,P(!1),"zoom"!=e){for("drag"==e&&ui.mouseup(),e=null;e!==t;e=n[i++])for(var o=0,r=B({parent:e});e=r[o++];)e.isShow()&&e.isResizable()&&n.push(e);for(i=0;e=n[i++];)e.repaint=me,I(e,"resize"),delete e.repaint,8>Q&&(e=ue(o=e.getMain()),"auto"==e.width&&"block"==e.display&&(o.style.width="100%"));if(8>Q){for(i=0;e=n[i];)s[i++]=e.getMain().offsetWidth;for(;e=n[i--];)e.getMain().style.width=s[i]-(Ve?2*e.$getBasicWidth():0)+"px"}for(i=0;e=n[i++];)e.cache(!0,!0);for(i=0;e=n[i++];)e.$setSize(e.getWidth(),e.getHeight())}8>Q?_e(P,0,null,!0):P(!0),Ye=Te};e=N.$bind=function(t,e){t._cControl=e,t.getControl=k},n=N.$clearState=function(t){var e=t.getParent();w(t),t.contain(Xe)&&L(Xe,"deactivate",null,Xe=e),t.contain(je)&&L(je,"mouseout",null,je=e)},i=N.$connect=function(t,e,i){if(i){var n=Ue[i];n?e.call(t,n):(oi[i]=oi[i]||[]).push({func:e,caller:t})}},s=N.$create=function(t,e){t=t.client||t,e=e||{};var i,n=0,s=e.parent,o=e.main,r=e.primary||"";if(e.uid="ecui-"+ ++si,o){if(ze?i=o.className:o.className=i=o.className+" "+r+t.agent.TYPES,r||(/\s*([^\s]+)/.test(i),e.primary=U.$1),o.getControl)return o.getControl()}else o=e.main=se(r+t.agent.TYPES),r||(e.primary=t.agent.types[0]);if(t=new t(o,e),s?s instanceof O.Control?t.setParent(s):t.appendTo(s):t.$setParent(we(re(t.getOuter()))),We(t,e),ni.push(t),o=oi[e.id])for(oi[e.id]=null;r=o[n++];)r.func.call(r.caller,t);return t},o=N.$fastCreate=function(t,e,i,n){return t=t.client||t,n=n||{},n.uid="ecui-"+ ++si,n.primary||(/\s*([^\s]+)/.test(e.className),n.primary=U.$1),t=new t(e,n),t.$setParent(i),We(t,n),t},N.addEventListener=function(t,e,i){e=t.getUID()+e,(ri[e]=ri[e]||[]).push(i)},r=N.calcHeightRevise=function(t){return Ve?Se(t.borderTopWidth)+Se(t.borderBottomWidth)+Se(t.paddingTop)+Se(t.paddingBottom):0},a=N.calcLeftRevise=function(t){var e=ue(t.offsetParent);return!Z||"visible"!=e.overflow&&"absolute"==ue(t,"position")?Se(e.borderLeftWidth)*ke:0},u=N.calcTopRevise=function(t){var e=ue(t.offsetParent);return!Z||"visible"!=e.overflow&&"absolute"==ue(t,"position")?Se(e.borderTopWidth)*ke:0},l=N.calcWidthRevise=function(t){return Ve?Se(t.borderLeftWidth)+Se(t.borderRightWidth)+Se(t.paddingLeft)+Se(t.paddingRight):0},h=N.create=function(t,e){return t=s("string"==typeof t?O[t]:t,e),t.cache(),t.init(),t},c=N.dispose=function(t){var e,i=ii.length,s=t instanceof O.Control,o={},r=[];s?n(t):(e=we(re(t)),qe&&ne(t,qe.getOuter())&&M(e),Xe&&ne(t,Xe.getOuter())&&L(Xe,"deactivate",null,Xe=e),je&&ne(t,je.getOuter())&&L(je,"mouseout",null,je=e));for(e in Ue)o[Ue[e].getUID()]=e;for(;i--;)e=ii[i],(s?t.contain(e):!!e.getOuter()&&ne(t,e.getOuter()))&&(r.push(e),ee(ni,e),(e=o[e.getUID()])&&delete Ue[e],ii.splice(i,1));for(;e=r[++i];)e.$dispose()},N.$dispose=function(t,e){var i,s,o=t instanceof O.Control,r={},a=[],u=[];o?n(t):(i=we(re(t)),qe&&ne(t,qe.getOuter())&&M(i),Xe&&ne(t,Xe.getOuter())&&L(Xe,"deactivate",null,Xe=i),je&&ne(t,je.getOuter())&&L(je,"mouseout",null,je=i));for(i in Ue)r[Ue[i].getUID()]=i,u.push(Ue[i]);for(e&&(u=[t]),s=0;i=u[s];s++)(o?t.contain(i):!!i.getOuter()&&ne(t,i.getOuter()))&&(a.push(i),ee(ni,i),ee(ii,i),(i=r[i.getUID()])&&delete Ue[i]);for(s=0;i=a[s];s++)i.$dispose()},d=N.drag=function(t,e,i){if("mousedown"==e.type){var n=t.getOuter().offsetParent,s=ue(n);$e(li,"BODY"==n.tagName||"HTML"==n.tagName?be():{top:0,right:n.offsetWidth-Se(s.borderLeftWidth)-Se(s.borderRightWidth),bottom:n.offsetHeight-Se(s.borderTopWidth)-Se(s.borderBottomWidth),left:0}),$e(li,i),li.right=j(li.right-t.getWidth(),li.left),li.bottom=j(li.bottom-t.getHeight(),li.top),D(t,e,li,"drag")}},N.get=function(t){return Y(),Ue[t]||null},f=N.getActived=function(){return Xe||null},g=N.getAttributeName=function(){return Je},p=N.getFocused=function(){return qe||null},m=N.getHovered=function(){return je},v=N.getKey=function(){return ei},$=N.getMouseX=function(t){return t?(t=t.getBody(),Re-ae(t).left-Se(ue(t,"borderLeftWidth"))):Re},b=N.getMouseY=function(t){return t?(t=t.getBody(),Ae-ae(t).top-Se(ue(t,"borderTopWidth"))):Ae},N.getNamedControls=function(){return $e({},Ue)},y=N.getOptions=function(t,e){e=e||Je;var i,n=oe(t,e);if(n){if(t.removeAttribute(e),N.onparseoptions&&(i=N.onparseoptions(n)))return i;for(i={};/^(\s*;)?\s*(ext\-)?([\w\-]+)\s*(:\s*([^;\s]+(\s+[^;\s]+)*)\s*)?($|;)/.test(n);)n=U["$'"],t=U.$5,e=U.$2?i.ext=i.ext||{}:i,e[ge(U.$3)]=t&&"true"!=t?"false"==t?!1:G(+t)?t:+t:!0;return i}return{}},_=N.getScrollNarrow=function(){return De},S=N.getStatus=function(){return Ye},T=N.inherits=function(t,e,i,n){var s=function(t){return h(s.client,t)},o=s.client=function(e,i){s.preprocess&&(e=s.preprocess.call(this,e,i)||e),t&&t.client.call(this,e,i),n&&n.call(this,e,i)};return s.preprocess=i,t?(ye(s,t),e&&"*"==e.charAt(0)?(s.types=t.types.slice())[0]=e.slice(1):s.types=(e?[e]:[]).concat(t.types)):s.types=[],s.TYPES=" "+s.types.join(" "),ye(o,s),o.agent=s,s},C=N.intercept=function(t){hi.target=t,Ee(hi)},x=N.isContentBox=function(){return Ve},w=N.loseFocus=function(t){t.contain(qe)&&M(t.getParent())},P=N.mask=function(e,i){var n=0,s=A.body,o=be(),r=j(o.top-2*o.height,0),a=j(o.left-2*o.width,0),u=";top:"+r+"px;left:"+a+"px;width:"+q(5*o.width,o.pageWidth-a)+"px;height:"+q(5*o.height,o.pageHeight-r)+"px;display:";if("boolean"==typeof e)for(u+=e?"block":"none";o=ti[n++];)o.style.cssText+=u;else e===t?(ce(ti.pop()),ti.length||de(s,"ecui-mask")):(ti.length||ie(s,"ecui-mask"),ti.push(o=s.appendChild(se("","position:absolute;background-color:#000;z-index:"+(i||32767)))),fe(o,"opacity",e),o.style.cssText+=u+"block")},H=N.needInitClass=function(){return!ze},B=N.query=function(e){e=e||{};for(var i,n=0,s=[],o=e.parent,r=e.custom;i=ni[n++];)e.type&&!(i instanceof e.type)||o!==t&&i.getParent()!==o||r&&!r.call(this,i)||s.push(i);return s},N.removeEventListener=function(t,e,i){(e=ri[t.getUID()+e])&&ee(e,i)},W=N.restore=function(){Q&&("drag"==ui.type||"zoom"==ui.type)&&A.body.releaseCapture(),Ne(ui,!0),Ne(ui=ai.pop())},M=N.setFocused=function(t){t&&t.isDisabled()&&(t=null);var e=z(qe,t);L(qe,"blur",null,e),L(qe=t,"focus",null,e)},I=N.triggerEvent=function(t,e,i,n){if(n&&i?n.splice(0,0,i):i?n=[i]:(i={returnValue:i,preventDefault:Ke.preventDefault},n=n||[]),s=ri[t.getUID()+e])for(var s,o,r=0;o=s[r++];)o.apply(t,n);return(t["on"+e]&&t["on"+e].apply(t,n)===!1||i.returnValue===!1||t["$"+e]&&t["$"+e].apply(t,n)===!1)&&i.preventDefault(),i.returnValue!==!1},E=N.wrapEvent=function(t){if(t instanceof Ge)return t;var e=A.body,i=re(e);return Q&&(t=R.event,t.pageX=i.scrollLeft+e.scrollLeft-i.clientLeft+t.clientX-e.clientLeft,t.pageY=i.scrollTop+e.scrollTop-i.clientTop+t.clientY-e.clientTop,t.target=t.srcElement,t.which=t.keyCode),"mousemove"==t.type&&(Fe=null),Re=t.pageX,Ae=t.pageY,new Ge(t.type,t)},N.zoom=function(t,e,i){"mousedown"==e.type&&(i&&$e(ci,i),ci.top=t.getY(),ci.left=t.getX(),ci.width=t.getWidth(),ci.height=t.getHeight(),D(t,e,ci,"zoom"))},ui.keydown=ui.keypress=ui.keyup=function(t){t=E(t);var e=t.type,i=t.which;"keydown"==e&&(ei=i),L(qe,e,t),"keyup"==e&&ei==i&&(ei=0)},Q&&(ui.dblclick=function(t){ui.mousedown(t),ui.mouseup(t)},ui.selectstart=function(t){t=E(t),Ie(we(t.target),t)}),ui[Z?"DOMMouseScroll":"mousewheel"]=function(e){e=E(e),e.detail=e._oNative.detail===t?e._oNative.wheelDelta/-40:e._oNative.detail,"drag"==ui.type?e.preventDefault():(L(je,"mousewheel",e),e.cancelBubble||L(qe,"mousewheel",e))},Ke.getControl=function(t){var e=we(this.target);if(e&&!e.isDisabled())for(;e;e=e.getParent())if(e.isCapturable())return e;if(e&&e._sPrimary==t)for(;e;e=e.getParent())if(e.isCapturable())return e;return null},Ke.getNative=function(){return this._oNative},Ke.preventDefault=function(){this.returnValue=!1,this._oNative&&(Q?this._oNative.returnValue=!1:this._oNative.preventDefault())},Ke.stopPropagation=function(){this.cancelBubble=!0,this._oNative&&(Q?this._oNative.cancelBubble=!1:this._oNative.stopPropagation())},Ke.exit=function(){this.preventDefault(),this.stopPropagation()},he(di)}()}(),function(){function t(t,e,i){var n=t._cParent,s=t.getOuter(),o=t._bCreated&&t.isShow();if(e!=n){if(n&&!V(n,"remove",null,[t]))return;e&&(V(e,"append",null,[t])||(e=i=null))}i!=g(s)&&(i?i.appendChild(s):v(s),t.$setParent(e)),o!=(t._bCreated&&t.isShow())&&V(t,o?"hide":"show",!1)}var e,i,n=ecui,s=n.array,o=n.dom,r=n.ui,a=n.util,u=document,l=RegExp,h=navigator.userAgent,c=/msie (\d+\.\d)/i.test(h)?u.documentMode||l.$1-0:e,d=s.remove,f=o.addClass,g=o.getParent,p=o.getStyle,m=o.removeClass,v=o.remove,$=a.blank,b=a.timer,y=a.toNumber,_=n.REPAINT,S=n.$bind,T=n.$clearState,C=n.calcLeftRevise,x=n.calcTopRevise,w=n.dispose,P=n.findControl,H=n.getActived,B=n.getFocused,W=n.getHovered,M=n.getStatus,I=n.inherits,E=n.isContentBox,N=n.loseFocus,L=n.query,z=n.setFocused,V=n.triggerEvent,k=["mousedown","mouseover","mousemove","mouseout","mouseup","click","dblclick","focus","blur","activate","deactivate","keydown","keypress","keyup","mousewheel"],D=r.Control=I(null,null,null,function(t,e){S(t,this),this._bDisabled=!!e.disabled,this._sUID=e.uid,this._sPrimary=e.primary||"",this._sClass=e.current||this._sPrimary,this._eMain=this._eBody=t,this._cParent=null,this._bCapturable=e.capturable!==!1,this._bUserSelect=e.userSelect!==!1,this._bFocusable=e.focusable!==!1,e.resizable!==!1?(this._bResizable=!0,t=t.style,this._sWidth=t.width,this._sHeight=t.height):this._bResizable=!1,this._aStatus=[""," "]}),O=D.prototype,R={custom:function(t){return this!=t&&this.contain(t)&&t.isShow()}};O.$activate=function(){this.alterClass("+active")},O.$blur=function(){this.alterClass("-focus")},O.$cache=function(t,e){if(8>c)i=t.borderWidth,i.indexOf(" ")>0?(i=i.split(" "),this.$$borderTopWidth=y(i[0]),this.$$borderRightWidth=y(i[1]),this.$$borderBottomWidth=i[2]?y(i[2]):this.$$borderTopWidth,this.$$borderLeftWidth=i[3]?y(i[3]):this.$$borderRightWidth=y(i[1])):this.$$borderTopWidth=this.$$borderLeftWidth=this.$$borderRightWidth=this.$$borderBottomWidth=y(i),i=t.padding,i.indexOf(" ")>0?(i=i.split(" "),this.$$paddingTop=y(i[0]),this.$$paddingRight=y(i[1]),this.$$paddingBottom=i[2]?y(i[2]):this.$$paddingTop,this.$$paddingLeft=i[3]?y(i[3]):this.$$paddingRight):this.$$paddingTop=this.$$paddingLeft=this.$$paddingRight=this.$$paddingBottom=y(i);else for(var i,n=0,s=["borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","paddingTop","paddingLeft","paddingRight","paddingBottom"];i=s[n++];)this["$$"+i]=y(t[i]);this.$$position=t.position,e!==!1&&(i=E(),this.$$width=this._eMain.offsetWidth||y(t.width)+(i?this.$getBasicWidth():0),this.$$height=this._eMain.offsetHeight||y(t.height)+(i?this.$getBasicHeight():0))},O.$deactivate=function(){this.alterClass("-active")},O.$dispose=function(){try{V(this,"dispose",!1)}catch(t){}this._eMain.getControl=e,this._eMain=this._eBody=null,this.$ready=$},O.$focus=function(){this.alterClass("+focus")},O.$getBasicHeight=function(){return this.$$borderTopWidth+this.$$borderBottomWidth+this.$$paddingTop+this.$$paddingBottom},O.$getBasicWidth=function(){return this.$$borderLeftWidth+this.$$borderRightWidth+this.$$paddingLeft+this.$$paddingRight},O.$getSection=function(t){return this["_u"+t]},O.$hide=function(){if(this._sDisplay===e){if(this._bCreated)for(var t,i=0,n=L.call(this,R);t=n[i++];)V(t,"hide",!1);t=this.getOuter().style,this._sDisplay=t.display,t.display="none",T(this)}},O.$locate=function(){"static"==this.$$position&&(this._eMain.style.position=this.$$position="relative")},O.$mouseout=function(){this.alterClass("-hover")},O.$mouseover=function(){this.alterClass("+hover")},O.$resize=function(){var t=this._eMain,e=t.style;if(e.width=this._sWidth,8>c&&M()!=_){var i=p(t);"auto"==i.width&&"block"==i.display&&(e.width="100%",e.width=t.offsetWidth-(E()?2*this.$getBasicWidth():0)+"px")}e.height=this._sHeight},O.$setBody=function(t){this._eBody=t},O.$setParent=function(t){this._cParent=t},O.$setSize=function(t,e){var i=this._eMain.style,n=this._eMain.tagName,s=E()&&"BUTTON"!=n&&"INPUT"!=n;t&&(n=t-(s?this.$getBasicWidth():0))>0&&(i.width=n+"px",this.$$width=t),e&&(n=e-(s?this.$getBasicHeight():0))>0&&(i.height=n+"px",this.$$height=e)},O.$show=function(){if(this.getOuter().style.display=this._sDisplay||"",this._sDisplay=e,this._bCreated)for(var t,i=0,n=L.call(this,R);t=n[i++];)V(t,"show",!1)},O.alterClass=function(t){var e="+"==t.charAt(0);e?t="-"+t.slice(1)+" ":t+=" ",(e?f:m)(this._eMain,this.getTypes().concat([this._sClass,""]).join(t)),e?this._aStatus.push(t):d(this._aStatus,t)},O.appendTo=function(e){t(this,e&&P(e),e)},O.blur=function(){N(this)},O.cache=function(t,e){(e||!this._bCached)&&(this._bCached=!0,this.$cache(p(this._eMain),t))},O.clearCache=function(){this._bCached=!1},O.contain=function(t){for(;t;t=t._cParent)if(t==this)return!0;return!1},O.disable=function(){return this._bDisabled?!1:(this.alterClass("+disabled"),this._bDisabled=!0,T(this),!0)},O.dispose=function(){w(this)},O.enable=function(){return this._bDisabled?(this.alterClass("-disabled"),this._bDisabled=!1,!0):!1},O.focus=function(){this.isFocused()||z(this)},O.getBody=function(){return this._eBody},O.getBodyHeight=function(){return this.getHeight()-this.getMinimumHeight()},O.getBodyWidth=function(){return this.getWidth()-this.getMinimumWidth()},O.getClass=function(){return this._sClass},O.getContent=function(){return this._eBody.innerHTML},O.getHeight=function(){return this.cache(),this.$$height},O.getMain=function(){return this._eMain},O.getMinimumHeight=function(){return this.cache(),this.$getBasicHeight()+(this.$$bodyHeightRevise||0)},O.getMinimumWidth=function(){return this.cache(),this.$getBasicWidth()+(this.$$bodyWidthRevise||0)},O.getOuter=function(){return this._eMain},O.getParent=function(){return this._cParent||null},O.getPrimary=function(){return this._sPrimary},O.getType=function(){return this.constructor.agent.types[0]},O.getTypes=function(){return this.constructor.agent.types.slice()},O.getUID=function(){return this._sUID},O.getWidth=function(){return this.cache(),this.$$width},O.getX=function(){var t=this.getOuter();return this.isShow()?t.offsetLeft-C(t):0},O.getY=function(){var t=this.getOuter();return this.isShow()?t.offsetTop-x(t):0},O.hide=function(){this.isShow()&&V(this,"hide")},O.init=function(){this._bCreated||(this._bDisabled&&this.alterClass("+disabled"),this.$setSize(this.getWidth(),this.getHeight()),null===i?this.$ready():(i||(i=[],b(function(){for(var t,e=0;t=i[e++];)t.$ready();i=null})),this.$ready!=$&&i.push(this)),this._bCreated=!0)},O.isActived=function(){return this.contain(H())},O.isCapturable=function(){return this._bCapturable},O.isDisabled=function(){return this._bDisabled||!!this._cParent&&this._cParent.isDisabled()},O.isFocusable=function(){return this._bFocusable},O.isFocused=function(){return this.contain(B())},O.isHovered=function(){return this.contain(W())},O.isResizable=function(){return this._bResizable},O.isShow=function(){return!!this.getOuter().offsetWidth},O.isUserSelect=function(){return this._bUserSelect},O.render=function(){this.resize()},O.repaint=function(){this.cache(!0,!0),this.$setSize(this.getWidth(),this.getHeight())},O.resize=function(){this._bResizable&&(this.$resize(),this.repaint())},O.setBodySize=function(t,e){this.setSize(t&&t+this.getMinimumWidth(),e&&e+this.getMinimumHeight())},O.setClass=function(t){var e=0,i=this._sClass,n=this.getTypes(),s=[];if(t=t||this._sPrimary,t!=i){for(n.splice(0,0,this._sClass=t);n[e];)s[e]=this._aStatus.join(n[e++]);n[0]=i,this._eMain.className=s.join("")+this._eMain.className.split(/\s+/).join("  ").replace(new l("(^| )("+n.join("|")+")(-[^ ]+)?( |$)","g"),"")}},O.setContent=function(t){this._eBody.innerHTML=t},O.setParent=function(e){t(this,e,e&&e._eBody)},O.setPosition=function(t,e){var i=this.getOuter().style;i.left=t+"px",i.top=e+"px"},O.setSize=function(t,e){if(this._bResizable){this.cache();var i=this._eMain.style;t<this.getMinimumWidth()&&(t=0),e<this.getMinimumHeight()&&(e=0),this.$setSize(t,e),t&&(this._sWidth=i.width),e&&(this._sHeight=i.height)}},O.show=function(){return this.isShow()?!1:(V(this,"show"),!0)},function(){for(var t,e=0;t=k[e++];)O["$"+t]=O["$"+t]||$;O.$intercept=O.$append=O.$remove=O.$zoomstart=O.$zoom=O.$zoomend=O.$dragstart=O.$dragmove=O.$dragend=O.$ready=O.$pagescroll=$}()}(),function(){function t(t){if(_(t._eInput,t),!t._bHidden)for(var e in W)$(t._eInput,e,W[e])}function e(t){var e=d("span");return e.className="ui-tip-error",g(e,t.getOuter()),t._oErrorTip=x("Tip",{main:e}),t._oErrorTip}var i,n=ecui,s=n.dom,o=n.string,r=n.ui,a=n.util,u=document,l=RegExp,h=navigator.userAgent,c=/msie (\d+\.\d)/i.test(h)?u.documentMode||l.$1-0:i,d=s.create,f=s.insertBefore,g=s.insertAfter,p=s.setInput,m=s.setStyle,v=o.encodeHTML,$=a.attachEvent,b=a.blank,y=a.detachEvent,_=n.$bind,S=n.inherits,T=n.triggerEvent,C=n.wrapEvent,x=n.create,w=r.Control,P=w.prototype,H=r.InputControl=S(w,null,function(t,e){var n;return"INPUT"==t.tagName||"TEXTAREA"==t.tagName?(n=t,f(t=d(n.className,n.style.cssText,"span"),n).appendChild(n),n.className=""):(n=t.getElementsByTagName("INPUT")[0]||t.getElementsByTagName("TEXTAREA")[0],n||(n=p(null,e.name,e.inputType),n.defaultValue=n.value=e.value===i?"":e.value.toString(),t.appendChild(n))),m(t,"display","inline-block"),n.style.border="0px",e.hidden&&(n.style.display="none"),e.checked&&(n.defaultChecked=n.checked=!0),t
},function(e,i){this._bHidden=i.hidden,this._eInput=e.getElementsByTagName("INPUT")[0]||e.getElementsByTagName("TEXTAREA")[0],a.validator&&(this._aValidateRules=a.validator.collectRules(i)),t(this)}),B=H.prototype,W={};W.blur=W.focus=function(t){var e=t.type;C(t).target.getControl&&(t=C(t).target.getControl(),t["$"+e]=P["$"+e],t[e](),delete t["$"+e])},W.dragover=W.drop=function(t){C(t).exit()},c?W.propertychange=function(t){"value"==t.propertyName&&T(C(t).target.getControl(),"change")}:W.input=function(){T(this.getControl(),"change")},B.$dispose=function(){this._eInput.getControl=i,this._eInput=null,P.$dispose.call(this)},B.$reset=function(){this.$ready()},B.$setParent=function(t){P.$setParent.call(this,t),(t=this._eInput.form)&&t.getControl&&t.getControl().addItem(this.getName(),this)},B.$setSize=function(t,e){P.$setSize.call(this,t,e),this._eInput.style.width=this.getBodyWidth()+"px",this._eInput.style.height=this.getBodyHeight()+"px"},B.$submit=b,B.disable=function(){if(P.disable.call(this)){var t=this.getBody();return this._bHidden?this._eInput.disabled=!0:(t.removeChild(this._eInput),"password"!=this._eInput.type&&(t.innerHTML=v(this._eInput.value))),!0}return!1},B.enable=function(){if(P.enable.call(this)){var t=this.getBody();return this._bHidden?this._eInput.disabled=!1:(t.innerHTML="",t.appendChild(this._eInput)),!0}return!1},B.getInput=function(){return this._eInput},B.getName=function(){return this._eInput.name},B.getSelectionEnd=c?function(){var t=u.selection.createRange().duplicate();return t.moveStart("character",-this._eInput.value.length),t.text.length}:function(){return this._eInput.selectionEnd},B.getSelectionStart=c?function(){var t=u.selection.createRange().duplicate(),e=this._eInput.value.length;return t.moveEnd("character",e),e-t.text.length}:function(){return this._eInput.selectionStart},B.getValue=function(){return this._eInput.value},B.setCaret=c?function(t){var e=this._eInput.createTextRange();e.collapse(),e.select(),e.moveStart("character",t),e.collapse(),e.select()}:function(t){this._eInput.setSelectionRange(t,t)},B.setName=function(e){var i=p(this._eInput,e||"");this._eInput!=i&&(t(this),this._eInput=i)},B.setValue=function(t){var e=this._eInput,i=W.propertychange;i&&y(e,"propertychange",i),e.value=t,i&&$(e,"propertychange",i)},B.validate=function(){return!0},B.setError=function(t){var i=this._oErrorTip;i||(i=e(this)),t?(i.setMessage(t),i.show()):i.hide()},B.setDefaultValue=function(){var t=this.getValue();this._eInput.defaultValue=t},function(){function t(t){B["$"+t]=function(){P["$"+t].call(this);var e=this._eInput;y(e,t,W[t]);try{e[t]()}catch(i){}$(e,t,W[t])}}t("blur"),t("focus")}()}(),function(){function t(t){var e,i=t||window.event;i.preventDefault?i.preventDefault():i.cancelBuble=!0,i=i.target||i.srcElement,e=i.parentNode.getControl(),e.getInput().focus()}function e(t,e){t._eTip&&(t._eTip.style.display=e?"":"none")}var i=ecui,n=i.dom,s=i.string,o=i.ui,r=i.util,a=r.attachEvent,u=n.create,l=(s.trim,i.setFocused,r.blank),h=i.inherits,c=o.Control,d=c.prototype,f=o.InputControl,g=f.prototype,p=o.Input=h(f,"ui-input",function(t,e){e.resizable=!1},function(e,i){var n,s=this.getType();this.getInput().style.border="",i.maxLength&&(this._sMaxLength=i.maxLength),i.tip&&(n=u(s+"-tip","display:none"),n.innerHTML=i.tip,this.getBody().appendChild(n),this._eTip=n,a(this._eTip,"mousedown",t))}),m=p.prototype;o.Textarea=h(p,"ui-textarea",function(t,e){e.inputType="textarea"}),m.$keydown=function(){e(this,!1)},m.$keyup=function(){var t=this.getValue();this._sMaxLength&&baidu.string.getByteLength(t)>this._sMaxLength&&this.setValue(baidu.string.subByte(t,this._sMaxLength)),t||e(this,!0)},m.$blur=function(){d.$blur.call(this),this.getValue()||e(this,!0)},m.$setSize=l,m.setValue=function(t){g.setValue.call(this,t),e(this,t?!1:!0)},m.init=function(){this.getValue()||e(this,!0),g.init.call(this)}}(),function(){var t=ecui,e=t.dom,i=t.ui,n=t.util,s=e.setText,o=n.setDefault,r=t.inherits,a=i.Control,u=a.prototype,l=i.Button=r(a,"ui-button",function(t,e){o(e,"userSelect",!1),e.text&&s(t,e.text)}),h=l.prototype;h.$activate=function(t){u.$activate.call(this,t),t.stopPropagation()},h.$mouseout=function(t){u.$mouseout.call(this,t),this.isActived()&&this.alterClass("-active")},h.$mouseover=function(t){u.$mouseover.call(this,t),this.isActived()&&this.alterClass("+active")},h.setText=function(t){s(this.getBody(),t)}}(),function(){function t(e,i,n){var s=e._nValue,o=e.getMouseDirection();e._oStop(),-1==o&&0>i||1==o&&i>0?e.setValue(s+i):s=-1,e._oStop=e._nValue!=s?f(t,n||200,null,e,i,40):c}function e(t){var e,i=t.getParent();i&&(i.$scroll(),x[e=i.getUID()]||(f(function(){delete x[e],y(i,"scroll",!1)}),x[e]=!0))}var i=ecui,n=i.dom,s=i.ui,o=i.util,r=Math,a=r.floor,u=r.max,l=r.min,h=n.children,c=o.blank,d=o.setDefault,f=o.timer,g=i.$fastCreate,p=i.drag,m=i.getActived,v=i.getMouseX,$=i.getMouseY,b=i.inherits,y=i.triggerEvent,_=s.Control,S=_.prototype,T=s.Button,C=T.prototype,x=s.Scrollbar=b(_,"ui-scrollbar",function(t,e){d(e,"userSelect",!1),d(e,"focusable",!1);var i=this.getType();t.innerHTML='<div class="'+i+"-prev"+this.Button.TYPES+'" style="position:absolute;top:0px;left:0px"></div><div class="'+i+"-next"+this.Button.TYPES+'" style="position:absolute;top:0px;left:0px"></div><div class="'+this.Thumb.TYPES+'" style="position:absolute"></div>'},function(t){t=h(t),this._nValue=this._nTotal=0,this._nStep=1,this._uPrev=g(this.Button,t[0],this,{focusable:!1}),this._uNext=g(this.Button,t[1],this,{focusable:!1}),this._uThumb=g(this.Thumb,t[2],this,{focusable:!1}),this._oStop=c}),w=x.prototype,P=(w.Thumb=b(T,"ui-scrollbar-thumb")).prototype,H=(w.Button=b(T,"ui-scrollbar-button")).prototype;P.$activate=function(t){C.$activate.call(this,t),p(this,t,this._oRange)},P.$dragmove=function(t,i,n){C.$dragmove.call(this,t,i,n);var s=this.getParent(),o=s.$calculateValue(i,n);s.$setValue(o==s._nTotal?o:o-o%s._nStep),e(s)},P.setRange=function(t,e,i,n){this._oRange={top:t,right:e,bottom:i,left:n}},H.$activate=function(e){C.$activate.call(this,e);var i=this.getParent();t(i,i.getMouseDirection()*u(i._nStep,5))},H.$deactivate=function(t){C.$deactivate.call(this,t),this.getParent()._oStop()},H.$mouseout=function(t){C.$mouseout.call(this,t),m()==this&&this.getParent()._oStop(!0)},H.$mouseover=function(t){C.$mouseover.call(this,t),m()==this&&this.getParent()._oStop(!0)},w.$activate=function(e){S.$activate.call(this,e),t(this,this.getMouseDirection()*this.$getPageStep())},w.$cache=function(t,e){S.$cache.call(this,t,e),this._uPrev.cache(!0,!0),this._uNext.cache(!0,!0),this._uThumb.cache(!0,!0)},w.$deactivate=function(t){S.$deactivate.call(this,t),this._oStop()},w.$hide=function(){S.$hide.call(this),w.setValue.call(this,0)},w.$mouseout=function(t){S.$mouseout.call(this,t),m()==this&&this._oStop(!0)},w.$mouseover=function(t){S.$mouseover.call(this,t),m()==this&&this._oStop(!0)},w.$setPageStep=function(t){this._nPageStep=t},w.$setSize=function(t,e){S.$setSize.call(this,t,e),this.$locate()},w.$setValue=function(t){this._nValue=t},w.getStep=function(){return this._nStep},w.getTotal=function(){return this._nTotal},w.getValue=function(){return this._nValue},w.init=function(){S.init.call(this),this._uPrev.init(),this._uNext.init(),this._uThumb.init()},w.setStep=function(t){t>0&&(this._nStep=t)},w.setTotal=function(t){t>=0&&this._nTotal!=t&&(this._nTotal=t,this._nValue>t&&(this._nValue=t,e(this)),this.$flushThumb())},w.setValue=function(t){t=l(u(0,t),this._nTotal),this._nValue!=t&&(this._nValue=t,e(this),this.$flushThumb())},w.skip=function(t){this.setValue(this._nValue+t*this._nStep)};var B=s.VScrollbar=b(x,"ui-vscrollbar"),W=B.prototype;W.$calculateValue=function(t,e){var i=this._uThumb,n=i._oRange;return(e-n.top)/(n.bottom-this._uPrev.getHeight()-i.getHeight())*this._nTotal},W.$flushThumb=function(){var t=this._uThumb,e=this._nTotal,i=this.getHeight(),n=this._uPrev.getHeight(),s=this.getBodyHeight(),o=u(a(s*i/(i+e)),t.getMinimumHeight()+5);e&&(t.$setSize(0,o),t.setPosition(0,n+a(this._nValue/e*(s-o))),t.setRange(n,0,s+n,0))},W.$getPageStep=function(){var t=this.getHeight();return this._nPageStep||t-t%this._nStep},W.$setSize=function(t,e){w.$setSize.call(this,t,e);var i=this.getBodyWidth(),n=this.$$paddingTop,s=this._uNext;this._uPrev.$setSize(i,n),s.$setSize(i,this.$$paddingBottom),this._uThumb.$setSize(i),s.setPosition(0,this.getBodyHeight()+n),this.$flushThumb()},W.getMouseDirection=function(){return $(this)<this._uThumb.getY()?-1:$(this)>this._uThumb.getY()+this._uThumb.getHeight()?1:0};var M=s.HScrollbar=b(x,"ui-hscrollbar"),I=M.prototype;I.$calculateValue=function(t){var e=this._uThumb,i=e._oRange;return(t-i.left)/(i.right-this._uPrev.getWidth()-e.getWidth())*this._nTotal},I.$flushThumb=function(){var t=this._uThumb,e=this._nTotal,i=this.getWidth(),n=this._uPrev.getWidth(),s=this.getBodyWidth(),o=u(a(s*i/(i+e)),t.getMinimumWidth()+5);e&&(t.$setSize(o),t.setPosition(n+a(this._nValue/e*(s-o)),0),t.setRange(0,s+n,0,n))},I.$getPageStep=function(){var t=this.getWidth();return t-t%this._nStep},I.$setSize=function(t,e){w.$setSize.call(this,t,e);var i=this.getBodyHeight(),n=this.$$paddingLeft,s=this._uNext;this._uPrev.$setSize(n,i),s.$setSize(this.$$paddingRight,i),this._uThumb.$setSize(0,i),s.setPosition(this.getBodyWidth()+n,0),this.$flushThumb()},I.getMouseDirection=function(){return v(this)<this._uThumb.getX()?-1:v(this)>this._uThumb.getX()+this._uThumb.getWidth()?1:0}}(),function(){function t(t){x(_(h(w(t).target)),"scroll")}var e=ecui,i=e.dom,n=e.ui,s=e.util,o=Math,r=o.max,a=o.min,u=o.floor,l=i.create,h=i.getParent,c=i.getPosition,d=i.getStyle,f=i.moveElements,g=s.attachEvent,p=s.blank,m=s.detachEvent,v=s.toNumber,$=e.$fastCreate,b=e.calcHeightRevise,y=e.calcWidthRevise,_=e.findControl,S=e.getKey,T=e.getScrollNarrow,C=e.inherits,x=e.triggerEvent,w=e.wrapEvent,P=n.Control,H=P.prototype,B=n.VScrollbar,W=n.HScrollbar,M=C(P,null,null,function(e){m(e,"scroll",t),g(e,"scroll",t)}),I=M.prototype;I.$hide=I.hide=function(){this.getMain().style[this._aProperty[0]]="hidden",I.setValue.call(this,0)},I.$setValue=function(t){this.getMain()[this._aProperty[1]]=a(r(0,t),this.getTotal())},I.$show=I.show=function(){this.getMain().style[this._aProperty[0]]="scroll"},I.getHeight=function(){return this._aProperty[4]?this.getMain()[this._aProperty[4]]:T()},I.getTotal=function(){return v(this.getMain().lastChild.style[this._aProperty[2]])},I.getValue=function(){return this.getMain()[this._aProperty[1]]},I.getWidth=function(){return this._aProperty[3]?this.getMain()[this._aProperty[3]]:T()},I.isShow=function(){return"hidden"!=this.getMain().style[this._aProperty[0]]},I.setTotal=function(t){this.getMain().lastChild.style[this._aProperty[2]]=t+"px"},I.setValue=function(t){this.$setValue(t),x(this.getParent(),"scroll")},I.$cache=I.$getPageStep=I.$setPageStep=I.$setSize=I.alterClass=I.cache=I.getStep=I.init=I.setPosition=I.setStep=I.skip=p;var E=C(M,null,null,function(){this._aProperty=["overflowY","scrollTop","height",null,"offsetHeight"]}),N=C(M,null,null,function(){this._aProperty=["overflowX","scrollLeft","width","offsetWidth",null]}),L=C(P),z=L.prototype;!function(){for(var t in H)z[t]=p}();var V=n.Panel=C(P,"ui-panel",function(t,e){var i=e.vScroll!==!1,n=e.hScroll!==!1,s=this.getType(),o=l(s+"-body","position:absolute;top:0px;left:0px"+(n?";white-space:nowrap":""));t.style.overflow="hidden",f(t,o,!0),t.innerHTML=(e.browser?'<div style="position:absolute;top:0px;left:0px;overflow:auto;padding:0px;border:0px"><div style="width:1px;height:1px;padding:0px;border:0px"></div></div>':(i?'<div class="'+s+"-vscrollbar"+this.VScrollbar.TYPES+'" style="position:absolute"></div>':"")+(n?'<div class="'+s+"-hscrollbar"+this.HScrollbar.TYPES+'" style="position:absolute"></div>':"")+(i&&n?'<div class="'+s+"-corner"+P.TYPES+'" style="position:absolute"></div>':""))+'<div class="'+s+'-layout" style="position:relative;overflow:hidden;padding:0px"></div>',t.lastChild.appendChild(o)},function(t,e){var i,n=0,s=e.browser,o=e.vScroll!==!1,r=e.hScroll!==!1,a=[[o,"_uVScrollbar",s?E:this.VScrollbar],[r,"_uHScrollbar",s?N:this.HScrollbar],[o&&r,"_uCorner",s?L:P]];for(this.$setBody(t.lastChild.lastChild),this._bAbsolute=e.absolute,this._nWheelDelta=e.wheelDelta,t=t.firstChild,s&&(this._eBrowser=t);i=a[n++];)i[0]&&(this[i[1]]=$(i[2],t,this),s||(t=t.nextSibling))}),k=V.prototype;k.VScrollbar=B,k.HScrollbar=W,k.$cache=function(t,e){H.$cache.call(this,t,e);var i=this.getBody(),n=i.offsetWidth,s=i.offsetHeight;if(t=d(h(i)),this.$$bodyWidthRevise=y(t),this.$$bodyHeightRevise=b(t),this._bAbsolute)for(var o=0,a=i.all||i.getElementsByTagName("*"),u=c(i);i=a[o++];)i.offsetWidth&&"absolute"==d(i,"position")&&(t=c(i),n=r(n,t.left-u.left+i.offsetWidth),s=r(s,t.top-u.top+i.offsetHeight));this.$$mainWidth=n,this.$$mainHeight=s,this._uVScrollbar&&this._uVScrollbar.cache(!0,!0),this._uHScrollbar&&this._uHScrollbar.cache(!0,!0),this._uCorner&&this._uCorner.cache(!0,!0)},k.$dispose=function(){this._eBrowser=null,H.$dispose.call(this)},k.$keydown=k.$keypress=function(t){var e=S(),i=e%2?this._uHScrollbar:this._uVScrollbar;return e>=37&&40>=e&&!t.target.value?(i&&i.skip(e+e%2-39),!1):void 0},k.$mousewheel=function(t){if(this.isHovered()&&(e=this._uVScrollbar,e&&e.isShow())){var e,i=e.getValue(),n=this._nWheelDelta||u(20/e.getStep())||1;return e.skip(t.detail>0?n:-n),t.stopPropagation(),i==e.getValue()}},k.$scroll=function(){var t=this.getBody().style;t.left=-r(this.getScrollLeft(),0)+"px",t.top=-r(this.getScrollTop(),0)+"px"},k.$setSize=function(t,e){H.$setSize.call(this,t,e),this.$locate();var i=this.$getBasicWidth(),n=this.$getBasicHeight(),s=this.$$paddingLeft+this.$$paddingRight,o=this.$$paddingTop+this.$$paddingBottom,r=this.getWidth()-i,a=this.getHeight()-n,u=this.$$mainWidth,l=this.$$mainHeight,c=this._eBrowser,d=this._uVScrollbar,f=this._uHScrollbar,g=this._uCorner,p=d?d.getWidth():0,m=f?f.getHeight():0,v=r-p,$=a-m,b=v+s,y=$+o;if(d&&d.setPosition(b,0),f&&f.setPosition(0,y),g&&g.setPosition(b,y),r>=u&&a>=l)d&&d.$hide(),f&&f.$hide(),g&&g.$hide(),v=r,$=a;else for(;;){if(g){if(u>v&&l>$){f.$setSize(b),f.setTotal(c?u+i:u-v),f.$show(),d.$setSize(0,y),d.setTotal(c?l+n:l-$),d.$show(),g.$setSize(p,m),g.$show();break}g.$hide()}f&&(u>r?(f.$setSize(r+s),f.setTotal(c?u+i:u-r),f.$show(),d&&d.$hide(),v=r):f.$hide()),d&&(l>a?(d.$setSize(0,a+o),d.setTotal(c?l+n:l-a),d.$show(),f&&f.$hide(),$=a):d.$hide());break}v-=this.$$bodyWidthRevise,$-=this.$$bodyHeightRevise,d&&d.$setPageStep($),f&&f.$setPageStep(v),c&&(g=c.style,g.width=r+s+"px",g.height=a+o+"px"),g=h(this.getBody()).style,g.width=v+"px",g.height=$+"px"},k.getScrollLeft=function(){var t=this._uHScrollbar;return t?t.getValue():-1},k.getScrollTop=function(){var t=this._uVScrollbar;return t?t.getValue():-1},k.init=function(){H.init.call(this),this._uVScrollbar&&this._uVScrollbar.init(),this._uHScrollbar&&this._uHScrollbar.init(),this._uCorner&&this._uCorner.init()},k.reset=function(){this._uVScrollbar&&this._uVScrollbar.setValue(0),this._uHScrollbar&&this._uHScrollbar.setValue(0)}}(),function(){var t,e=ecui,i=e.array,n=e.dom,s=e.string,o=e.ui,r=e.util,a=i.indexOf,u=i.remove,l=n.children,h=n.create,c=n.insertBefore,d=s.trim,f=r.blank,g=r.callSuper,p=e.$fastCreate,m=e.getOptions,v=e.inherits,$=e.triggerEvent,b=o.Control,y=b.prototype,_=o.Item=v(b,"ui-item",function(t){t.style.overflow="hidden"}),S=_.prototype,T=o.Items={};S.$click=function(t){y.$click.call(this,t);var e=this.getParent();e&&$(e,"itemclick",t,[a(T[e.getUID()],this)])},T.$append=function(t){return t instanceof(this.Item||_)&&g(this,"$append")!==!1?(T[this.getUID()].push(t),this.$alterItems(),void 0):!1},T.$cache=function(){g(this,"$cache");for(var t,e=0,i=T[this.getUID()];t=i[e++];)t.cache(!0,!0)},T.$dispose=function(){delete T[this.getUID()],g(this,"$dispose")},T.$initItems=function(){this.$alterItems=this.$initItems=f,T[this.getUID()]=[];for(var t,e=0,i=l(this.getBody());t=i[e++];)this.add(t);delete this.$alterItems},T.$remove=function(t){g(this,"$remove"),u(T[this.getUID()],t),this.$alterItems()},T.add=function(t,e,i){var n,s=T[this.getUID()];return t instanceof _?t.setParent(this):("string"==typeof t&&(this.getBody().appendChild(n=h()),n.innerHTML=t,t=n),n=this.Item||_,t.className=d(t.className)+" "+this.getType()+"-item"+n.TYPES,i=i||m(t),i.parent=this,i.select=!1,s.push(t=p(n,t,this,i)),this.$alterItems()),t.getParent()&&(n=s[e])&&n!=t&&(c(t.getOuter(),n.getOuter()),s.splice(e,0,s.pop())),t},T.append=function(e,i){this.add(e,t,i)},T.getItems=function(){return T[this.getUID()].slice()},T.init=function(){g(this,"init"),this.$alterItems()},T.remove=function(t){return"number"==typeof t&&(t=T[this.getUID()][t]),t&&t.setParent(),t||null},T.setItemSize=function(t,e){for(var i,n=0,s=T[this.getUID()];i=s[n++];)i.$setSize(t,e)}}(),function(){function t(t){var e=t._uOptions,i=e.$getSection("VScrollbar"),n=e.getOuter(),s=v(t.getOuter()),o=t._cSelected,r=s.top+t.getHeight();m(n)||(l.body.appendChild(n),t.cache(!1,!0),t.$alterItems()),e.isShow()&&(o&&E(o),i.setValue(i.getStep()*f(t.getItems(),o)),t=e.getHeight(),e.setPosition(s.left,r+t<=C().bottom?r:s.top-t))}function e(t,e){e!==t._cSelected&&(t._uText.setContent(e?e.getBody().innerHTML:""),z.setValue.call(t,e?e._sValue:""),t._cSelected=e,t._uOptions.isShow()&&E(e))}var i,n=ecui,s=n.array,o=n.dom,r=n.string,a=n.ui,u=n.util,l=document,h=Math,c=h.max,d=h.min,f=s.indexOf,g=o.children,p=o.create,m=o.getParent,v=o.getPosition,$=o.getText,b=(o.insertAfter,o.insertBefore),y=o.moveElements,_=o.remove,S=r.encodeHTML,T=u.extend,C=u.getView,x=u.setDefault,w=n.$fastCreate,P=n.getAttributeName,H=n.getFocused,B=n.inherits,W=n.intercept,M=n.mask,I=n.restore,E=n.setFocused,N=n.triggerEvent,L=a.InputControl,z=L.prototype,V=a.Button,k=a.Scrollbar,D=a.Panel,O=D.prototype,R=a.Item,A=R.prototype,F=a.Items,Y=a.Select=B(L,"ui-select",function(t,e){var i=t.name||e.name||"",n=this.getType(),s=e.id||"id_notset",o=p(n+"-options"+this.Options.TYPES,"position:absolute;z-index:65535;display:none");if(o.setAttribute("ecui_id",s),x(e,"hidden",!0),"SELECT"==t.tagName){var r=0,a=[],u=t.options,l=t;for(e.value=t.value,t=b(p(t.className,t.style.cssText,"span"),t),_(l);l=u[r];)a[r++]="<div "+P()+'="value:'+S(l.value)+'">'+l.text+"</div>";o.innerHTML=a.join("")}else y(t,o);return t.innerHTML='<span class="'+n+"-text"+R.TYPES+'"></span><span class="'+n+"-button"+V.TYPES+'" style="position:absolute"></span><input name="'+i+'" value="'+S(e.value||"")+'">',t.appendChild(o),t},function(t,e){t=g(t),this._uText=w(R,t[0],this,{capturable:!1}),this._uButton=w(V,t[1],this,{capturable:!1}),this._uOptions=w(this.Options,_(t[3]),this,{hScroll:!1,browser:e.browser}),this.$setBody(this._uOptions.getBody()),this._nOptionSize=e.optionSize||5,this.$initItems()}),U=Y.prototype,X=(U.Options=B(D)).prototype,j=(U.Item=B(R,null,null,function(t,e){this._sValue=e.value===i?$(t):""+e.value})).prototype;T(U,F),X.$dispose=function(){this.hide(),O.$dispose.call(this)},X.$hide=function(){O.$hide.call(this),M(),I()},j.$mouseover=function(t){A.$mouseover.call(this,t),E(this)},j.getValue=function(){return this._sValue},j.setValue=function(t){var e=this.getParent();this._sValue=t,e&&this==e._cSelected&&z.setValue.call(e,t)},U.$activate=function(e){e.getControl()instanceof k||(z.$activate.call(this,e),this._uOptions.show(),W(this),M(0,65534),t(this),e.stopPropagation())},U.$alterItems=function(){var t=this._uOptions,e=t.$getSection("VScrollbar"),i=this._nOptionSize,n=this.getBodyHeight(),s=this.getWidth(),o=this.getItems().length;m(t.getOuter())&&(e.setStep(n),this.setItemSize(s-t.getMinimumWidth()-(o>i?e.getWidth():0),n),t.$$mainHeight=o*n+t.$$bodyHeightRevise,t.$setSize(s,(d(o,i)||1)*n+t.getMinimumHeight()))},U.$cache=function(t,e){(m(this._uOptions.getOuter())?F:z).$cache.call(this,t,e),this._uText.cache(!1,!0),this._uButton.cache(!1,!0),this._uOptions.cache(!1,!0)},U.$intercept=function(t){this._uOptions.hide();for(var i=t.getControl();i;i=i.getParent())if(i instanceof this.Item){i!=this._cSelected&&(e(this,i),N(this,"change"));break}t.exit()},U.$keydown=U.$keypress=function(t){z["$"+t.type](t);var i=this._uOptions,n=i.$getSection("VScrollbar"),s=this._nOptionSize,o=t.which,r=this.getItems(),a=r.length,u=H();if(this.isFocused()){if(40==o||38==o)return a&&(i.isShow()?(E(r[o=d(c(0,f(r,u)+o-39),a-1)]),o-=n.getValue()/n.getStep(),n.skip(0>o?o:o>=s?o-s+1:0)):this.setSelectedIndex(d(c(0,f(r,this._cSelected)+o-39),a-1))),!1;if(27==o||13==o&&i.isShow())return i.hide(),13==o&&(e(this,u),N(this,"change")),!1}},U.$mousewheel=function(t){if(this.isFocused()){var e=this._uOptions,i=this.getItems(),n=i.length;e.isShow()?e.$mousewheel(t):(e=f(i,this._cSelected)+(t.detail>0?1:-1),this.setSelectedIndex(n?d(c(0,e),n-1):null),e>=0&&n>e&&N(this,"change")),t.exit()}},U.$ready=function(){this.setValue(this.getValue())},U.remove=function(t){return"number"==typeof t&&(t=this.getItems()[t]),t==this._cSelected&&e(this),F.remove.call(this,t)},U.add=function(t,e,i){return t=F.add.call(this,t,e,i),m(this._uOptions.getOuter())&&t.cache(!0,!0),t},U.$setSize=function(t,e){z.$setSize.call(this,t,e),this.$locate(),e=this.getBodyHeight(),this._uText.$setSize(t=this.getBodyWidth()-e,e),this._uButton.$setSize(e,e),this._uButton.setPosition(t,0)},U.getSelected=function(){return this._cSelected||null},U.setOptionSize=function(e){this._nOptionSize=e,this.$alterItems(),t(this)},U.setSelectedIndex=function(t){e(this,this.getItems()[t])},U.setValue=function(t){for(var i,n=0,s=this.getItems();i=s[n++];)if(i._sValue==t)return e(this,i),void 0;e(this)}}(),function(){function t(t){E.push(E.splice(h(E,t),1)[0]);for(var e,i=0,n=E.length-N;e=E[i++];)e.getOuter().style.zIndex=i>n?32767+2*(i-n):4095+i}var e,i=ecui,n=i.array,s=i.dom,o=i.ui,r=i.string,a=i.util,u=Math,l=u.max,h=n.indexOf,c=s.children,d=s.create,f=s.first,g=s.getStyle,p=s.moveElements,m=r.encodeHTML,v=a.getView,$=i.$fastCreate,b=i.calcHeightRevise,y=i.calcWidthRevise,_=i.drag,S=i.inherits,T=i.loseFocus,C=i.mask,x=i.setFocused,w=o.Control,P=o.Control.prototype,H=o.Button,B=o.Form=S(w,"ui-form",function(t,e){var i=this.getType(),n=d(i+"-body","position:relative;overflow:auto"),s=f(t);p(t,n,!0),s&&"LABEL"==s.tagName?(t.innerHTML='<div class="'+i+"-close"+this.Close.TYPES+'" style="position:absolute"></div>',t.insertBefore(s,t.firstChild),s.className=i+"-title"+this.Title.TYPES,s.style.position="absolute"):(t.innerHTML='<label class="'+i+"-title"+this.Title.TYPES+'" style="position:absolute">'+(e.title?m(e.title):"")+'</label><div class="'+i+"-close"+this.Close.TYPES+'" style="position:absolute"></div>',s=t.firstChild),t.style.overflow="hidden",t.appendChild(n)},function(t,e){this._bAutoHeight=!t.style.height,t=c(t),this._bFlag=e.hide,this._bAutoTitle=e.autoTitle!==!1,this._bAutoCenter=e.autoCenter===!0,this._uTitle=$(this.Title,t[0],this,{userSelect:!1}),this._uClose=$(this.Close,t[1],this),e.closeButton===!1&&this._uClose.$hide(),this.$setBody(t[2])}),W=B.prototype,M=(W.Title=S(w)).prototype,I=(W.Close=S(H)).prototype,E=[],N=0;M.$activate=function(t){P.$activate.call(this,t),_(this.getParent(),t)},I.$click=function(t){P.$click.call(this,t),this.getParent().hide()},W.$cache=function(t,e){P.$cache.call(this,t,e),t=g(this.getMain().lastChild),this.$$bodyWidthRevise=y(t),this.$$bodyHeightRevise=b(t),this._uTitle.cache(!0,!0),this._uClose.cache(!0,!0)},W.$dispose=function(){if(h(E,this)>=0)try{this.$hide()}catch(t){}P.$dispose.call(this)},W.$focus=function(){P.$focus.call(this),t(this)},W.$hide=function(){var t=h(E,this);t>=0&&E.splice(t,1),t>E.length-N&&(this._bFlag&&(t==E.length?C():E[t]._bFlag=!0,this._bFlag=!1),N--),P.$hide.call(this),T(this)},W.$setSize=function(t,e){this._bAutoHeight&&(e=null),P.$setSize.call(this,t,e),this.$locate();var i=this.getMain().lastChild.style;i.width=this.getBodyWidth()+"px",this._bAutoHeight||(i.height=this.getBodyHeight()+"px"),this._bAutoTitle&&this._uTitle.$setSize(this.getWidth()-this.$getBasicWidth())},W.$show=function(){E.push(this),P.$show.call(this),x(this)},W.center=function(){if(t=this.getOuter(),t.style.position=this.$$position="absolute",t=t.offsetParent,t&&"BODY"!=t.tagName&&"HTML"!=t.tagName)e=t.offsetWidth,i=t.offsetHeight;else var t=v(),e=t.right+t.left,i=t.bottom+t.top;this.setPosition(l((e-this.getWidth())/2,0),l((i-this.getHeight())/2,0))},W.hide=function(){for(var t,e=h(E,this);t=E[++e];)if(t._bFlag)return!1;return P.hide.call(this)},W.init=function(){P.init.call(this),this._uTitle.init(),this._uClose.init(),this._bFlag?(this._bFlag=!1,this.$hide()):this.$show()},W.setTitle=function(t){this._uTitle.setContent(t||"")},W.show=function(){N&&h(E,this)<E.length-N&&N++;var e=P.show.call(this);return e?this._bAutoCenter&&this.center():t(this),e},W.$resize=function(){var t=this.getMain().lastChild.style;P.$resize.call(this),t.width="",t.height=""},W.getHeight=function(){return this._bAutoHeight&&this.cache(!0,!0),P.getHeight.call(this)},W.showModal=function(i){this._bFlag||(h(E,this)<E.length-N&&N++,C(i!==e?i:.05,32766+2*N),this._bFlag=!0,P.show.call(this)?this._bAutoCenter&&this.center():t(this))}}(),function(){var t=ecui,e=t.ui,i=t.util,n=t.inherits,s=t.$connect,o=t.triggerEvent,r=i.blank,a=e.Control,u=a.prototype,l=["click","mouseover","mouseout","mouseup","mousedown"],h=e.Label=n(a,"ui-label",null,function(t,e){this._bResizable=!1,s(this,this.setFor,e["for"])}),c=h.prototype;c.setFor=function(t){this._cFor=t},c.$setSize=r,function(){var t,e;for(t=0;e=l[t];t++)c["$"+e]=function(t){return function(e){u["$"+t].call(this,e);var i=this._cFor;i&&!i.isDisabled()&&o(i,t,e)}}(e)}()}(),function(){function t(t){e.hide(),this._fAction&&this._fAction.call(null,t)}var e,i=ecui,n=i.dom,s=n.create,o=i.create,r=i.dispose,a=[];i.$messagebox=function(i,n,u,l){e||(e=o("Form",{main:s("ui-form ui-messagebox"),hide:!0,parent:document.body,autoCenter:!0,closeButton:!1}),f=e.getBody(),f.innerHTML='<div class="ui-messagebox-text"></div><div class="ui-messagebox-bottom"></div>');var h,c=0,d=u.length,f=e.getBody(),g=f.lastChild;if(!e.isShow()){for(;d>a.length;)a.push(o("Button",{element:s("ui-button","","span"),parent:g}));for(r(f=f.firstChild),f.innerHTML=i;h=a[c];c++)d>c?(h.setContent(u[c].text),h.$show(),h._fAction=u[c].action,h.onclick=t,u[c].className?h.setClass(u[c].className):h.setClass(h.getPrimary())):h.$hide();e.setTitle(n||""),e.showModal(l)}},i.alert=function(t,e){i.$messagebox(t,"",[{text:"",className:"ui-button-g",action:e}])},i.confirm=function(t,e,n){i.$messagebox(t,"",[{text:"",className:"ui-button-g",action:e},{text:"",action:n}])}}(),function(){function t(){var t;return $||(t=document.body.appendChild(a(_.TYPES)),$=r(_,t),$.cache(),$.init()),$}var e=ecui,i=(e.array,e.dom),n=e.ui,s=e.util,o=e.string,r=e.$fastCreate,a=(e.setFocused,i.create),u=i.children,l=(i.last,i.moveElements,i.getPosition),h=(i.setText,e.inherits),c=(e.isContentBox,e.getStatus,s.getView),d=e.triggerEvent,f=o.trim,g=n.Control,p=g.prototype,m=500,v=200,$=(e.REPAINT,null),b=n.Tip=h(g,"ui-tip",function(t,e){e.message=f(t.innerHTML)||e.message,t.innerHTML=""},function(t,e){this._sTarget=e.target,this._sMessage=e.message,this._oTimer=null,this._bAsyn=e.asyn===!0,this._bLoad=!1}),y=b.prototype,_=y.Layer=h(g,"ui-tip-layer",function(t){t.appendChild(a(this.getTypes()+"-corner")),t.appendChild(a())},function(t){t=u(t),this._eCorner=t[0],this.$setBody(t[1])}),S=_.prototype;y.$mouseover=function(){var e=this;p.$mouseover.call(this),clearTimeout(this._oTimer),this._bShow||(this._bAsyn?(t(),this.close(),e._oTimer=setTimeout(function(){e._bLoad=!1,d(e,"loadData",function(){e.open()})},m)):this._oTimer=setTimeout(function(){e.open()},m))},y.$mouseout=function(){var t=this;p.$mouseout.call(this),clearTimeout(this._oTimer),this._bShow&&(this._oTimer=setTimeout(function(){t.close()},v))},y.$getTarget=function(t){return document.getElementById(t)},y.setTarget=function(t){this._sTarget=t},y.open=function(){var e=t();if(this._sTarget){var i=this.$getTarget(this._sTarget);i&&(e.getBody().innerHTML="[object String]"==Object.prototype.toString.call(i)?i:i.innerHTML)}else this._sMessage&&e.setContent(this._sMessage);e.show(this),this._bShow=!0},y.close=function(){t().hide(),this._bShow=!1},y.setMessage=function(t){this._sMessage=t},S.show=function(t){var e=l(t.getOuter()),i=this.getTypes()[0],n=c(),s=13,o=t.getWidth(),r=t.getHeight(),a=9,u=[];t&&(this._uHost=t),p.show.call(this),this.resize(),e.left+this.getWidth()>n.right?(e.left=e.left+o-this.getWidth()+a,u.push("-right")):(e.left=e.left-a,u.push("-left")),e.top-s-this.getHeight()<n.top&&e.top+r+s+this.getHeight()<n.bottom?(e.top+=r+s,u.push("-bottom")):(e.top-=s+this.getHeight(),u.push("-top")),this._eCorner.className=i+"-corner "+i+"-corner"+u.join(""),this.setPosition(e.left,e.top)},S.$mouseover=function(){p.$mouseover.call(this),this._uHost.$mouseover()},S.$mouseout=function(){p.$mouseout.call(this),this._uHost.$mouseout()},S.$resize=function(){var t=this._eMain,e=t.style;e.width=this._sWidth,e.height=this._sHeight,this.repaint()}}()}();