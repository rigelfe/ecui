var ecui;!function(){!function(){function t(t,e){for(;t&&1!=t.nodeType;t=t[e]);return t}var e,i=ecui={},n=i.array={},s=i.dom={},o=(i.ext={},i.json={}),a=i.string={},r=(i.ui={},i.util={}),h=window,l=document,u=Function,c=Math,d=RegExp,g=c.abs,p=(c.ceil,c.floor),f=c.max,_=(c.min,c.pow,c.round,parseInt),v=isNaN,b=navigator.userAgent,m="CSS1Compat"==l.compatMode,$=/msie (\d+\.\d)/i.test(b)?l.documentMode||d.$1-0:e,y=/firefox\/(\d+\.\d)/i.test(b)?d.$1-0:e,T=/opera\/(\d+\.\d)/i.test(b)?d.$1-0:e,S=/(\d+\.\d)(\.\d)?\s+safari/i.test(b)&&!/chrome/i.test(b)?d.$1-0:e,C={utf8:{byteLength:function(t){return t.replace(/[\x80-\u07ff]/g,"  ").replace(/[\u0800-\uffff]/g,"   ").length},codeLength:function(t){return t>2047?3:t>127?2:1}},gbk:{byteLength:function(t){return t.replace(/[\x80-\uffff]/g,"  ").length},codeLength:function(t){return t>127?2:1}},"":{byteLength:function(t){return t.length},codeLength:function(){return 1}}},w={display:8>$?{get:function(t,e){return"inline"==e.display&&1==e.zoom?"inline-block":e.display},set:function(t,e){"inline-block"==e&&(e="inline",t.style.zoom=1),t.style.display=e}}:3>y?{get:function(t,e){return"-moz-inline-box"==e.display?"inline-block":e.display},set:function(t,e){t.style.display="inline-block"==e?"-moz-inline-box":e}}:e,opacity:$?{get:function(t,e){return/alpha\(opacity=(\d+)/.test(e.filter)?(d.$1-0)/100+"":"1"},set:function(t,e){t.style.filter=t.style.filter.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+100*e+")"}}:e,"float":$?"styleFloat":"cssFloat"},x=(n.indexOf=function(t,e){for(var i=t.length;i--&&t[i]!==e;);return i},n.remove=function(t,e){for(var i=t.length;i--;)t[i]===e&&t.splice(i,1)},s.addClass=function(t,e){t.className+=" "+e},s.children=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)1==i.nodeType&&e.push(i);return e},s.contain=y?function(t,e){return t==e||!!(16&t.compareDocumentPosition(e))}:function(t,e){return t.contains(e)},s.create=function(t,e,i){return i=l.createElement(i||"DIV"),t&&(i.className=t),e&&(i.style.cssText=e),i}),P=(s.first=function(e){return t(e.firstChild,"nextSibling")},s.getAttribute=8>$?function(t,e){return t[e]}:function(t,e){return t.getAttribute(e)}),B=s.getParent=$?function(t){return t.parentElement}:function(t){return t.parentNode},M=(s.getPosition=function(t){var e=0,i=0,n=l.body,s=B(n);if($)m||(o=M(n),v(e=_(o.borderTopWidth))&&(e=-2),v(i=_(o.borderLeftWidth))&&(i=-2)),o=t.getBoundingClientRect(),e+=s.scrollTop+n.scrollTop-s.clientTop+p(o.top),i+=s.scrollLeft+n.scrollLeft-s.clientLeft+p(o.left);else if(t==n)e=s.scrollTop+n.scrollTop,i=s.scrollLeft+n.scrollLeft;else if(t!=s){for(o=t;o;o=o.offsetParent)e+=o.offsetTop,i+=o.offsetLeft;(T||/webkit/i.test(b)&&"absolute"==M(t,"position"))&&(e-=n.offsetTop);for(var o=B(t),a=M(t);o!=n;o=B(o),a=t)i-=o.scrollLeft,T?"TR"!=o.tagName&&(e-=o.scrollTop):(t=M(o),s=y&&"visible"!=t.overflow&&"absolute"==a.position?2:1,e+=N(t.borderTopWidth)*s-o.scrollTop,i+=N(t.borderLeftWidth)*s)}return{top:e,left:i}},s.getStyle=function(t,e){var i=w[e],n=t.currentStyle||($?t.style:getComputedStyle(t,null));return e?i&&i.get?i.get(t,n):n[i||e]:n}),D=(s.getText=y?function(t){return t.textContent}:function(t){return t.innerText},s.insertAfter=function(t,e){var i=B(e);return i?i.insertBefore(t,e.nextSibling):E(t)},s.insertBefore=function(t,e){var i=B(e);return i?i.insertBefore(t,e):E(t)},s.insertHTML=y?function(t,e,i){var n={AFTERBEGIN:"selectNodeContents",BEFOREEND:"selectNodeContents",BEFOREBEGIN:"setStartBefore",AFTEREND:"setEndAfter"}[e.toUpperCase()],s=l.createRange();s[n](t),s.collapse(e.length>9),s.insertNode(s.createContextualFragment(i))}:function(t,e,i){t.insertAdjacentHTML(e,i)}),E=(s.last=function(e){return t(e.lastChild,"previousSibling")},s.moveElements=function(t,e,i){for(var n=t.firstChild;n;n=t)t=n.nextSibling,(i||1==n.nodeType)&&e.appendChild(n)},s.next=function(e){return t(e.nextSibling,"nextSibling")},s.remove=function(t){var e=B(t);return e&&e.removeChild(t),t}),H=(s.removeClass=function(t,e){for(var i=t.className.split(/\s+/).sort(),n=e.split(/\s+/).sort(),s=i.length,o=n.length;s&&o;)i[s-1]==n[o-1]?i.splice(--s,1):i[s-1]<n[o-1]?o--:s--;t.className=i.join(" ")},s.setInput=function(t,i,n){if(!t)if("textarea"==n)t=x("","","textarea");else{if(9>$)return x("","",'<input type="'+(n||"")+'" name="'+(i||"")+'">');t=x("","","input")}return i=i===e?t.name:i,n=n===e?t.type:n,(t.name!=i||t.type!=n)&&($&&"textarea"!=n||t.type!=n&&("textarea"==t.type||"textarea"==n)?(D(t,"AFTEREND","<"+("textarea"==n?"textarea":'input type="'+n+'"')+' name="'+i+'" class="'+t.className+'" style="'+t.style.cssText+'" '+(t.disabled?"disabled":"")+(t.readOnly?" readOnly":"")+">"),i=t,(t=t.nextSibling).value=i.value,"radio"==n&&(t.checked=i.checked),E(i)):(t.type=n,t.name=i)),t},s.setStyle=function(t,e,i){var n=w[e];n&&n.set?n.set(t,i):t.style[n||e]=i},s.setText=y?function(t,e){t.textContent=e}:function(t,e){t.innerText=e},o.parse=function(t){return new Function("return ("+t+")")()},o.stringify=function(){function t(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=o[t];return e?e:(e=t.charCodeAt(),"\\u00"+p(e/16)+(e%16).toString(16))})),'"'+t+'"'}function i(t){for(var i,i,n=0,s=[],o=t.length,n=0,s=[],o=t.length;o>n;n++)(i=H(t[n]))!==e&&s.push(i);return"["+s.join(",")+"]"}function n(t){return 10>t?"0"+t:t}function s(t){return'"'+t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+"T"+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())+'"'}var o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(n){switch(typeof n){case"undefined":case"function":case"unknown":return e;case"number":if(!isFinite(n))return"null";case"boolean":return n.toString();case"string":return t(n);default:if(null===n)return"null";if(n instanceof Array)return i(n);if(n instanceof Date)return s(n);var o,a=[];for(var r in n)(o=H(n[r]))!==e&&a.push(t(r)+":"+o);return"{"+a.join(",")+"}"}}}()),k=(a.decodeHTML=function(){var t={quot:'"',lt:"<",gt:">",amp:"&"};return function(e){return e.replace(/&(quot|lt|gt|amp|#([\d]+));/g,function(e,i,n){return t[i]||String.fromCharCode(+n)})}}(),a.encodeHTML=function(t){return t+="",t.replace(/[&<>"']/g,function(t){return"&#"+t.charCodeAt(0)+";"})},a.getByteLength=function(t,e){return C[e||""].byteLength(t)},a.sliceByte=function(t,e,i){for(var n=0,s=C[i||""].codeLength;n<t.length;n++)if(e-=s(t.charCodeAt(n)),0>e)return t.slice(0,n);return t},a.toCamelCase=function(t){return t.indexOf("-")<0?t:t.replace(/\-./g,function(t){return t.charAt(1).toUpperCase()})},a.toHalfWidth=function(t){return t.replace(/[\u3000\uFF01-\uFF5E]/g,function(t){return String.fromCharCode(f(t.charCodeAt(0)-65248,32))})},a.trim=function(t){return t&&t.replace(/^\s+|\s+$/g,"")},a.formatDate=function(t,e){var i=t.getFullYear(),n=t.getMonth()+1,s=t.getDate(),o=t.getHours(),a=t.getMinutes(),r=t.getSeconds();return e.replace(/(y+|M+|d+|H+|h+|m+|s+)/g,function(t){var e=t.length;switch(t.charAt()){case"y":return e>2?i:i.toString().slice(2);case"M":t=n;break;case"d":t=s;break;case"H":t=o;break;case"h":t=o%12;break;case"m":t=a;break;case"s":t=r}return e>1&&10>t?"0"+t:t})},r.attachEvent=$?function(t,e,i){t.attachEvent("on"+e,i)}:function(t,e,i){t.addEventListener(e,i,!1)}),I=(r.blank=function(){},r.callSuper=function(t,i){function n(t,e){for(;t;t=t.constructor.superClass)if(t[i]==e){for(;t=t.constructor.superClass;)if(t[i]!=e)return t[i];return null}}var s=t.constructor.prototype,o=I.caller,a=n(s,o);return a===e&&(a=n(s,o.caller)),a?a.apply(t,o.arguments):void 0}),V=(r.cancel=function(){return!1},r.detachEvent=$?function(t,e,i){t.detachEvent("on"+e,i)}:function(t,e,i){t.removeEventListener(e,i,!1)},r.extend=function(t,e){for(var i in e)t[i]=e[i];return t}),W=(r.getView=function(){var t=l.body,e=B(t),i=m?e:t,n=e.scrollTop+t.scrollTop,s=e.scrollLeft+t.scrollLeft,o=i.clientWidth,a=i.clientHeight;return{top:n,right:s+o,bottom:n+a,left:s,width:o,height:a,pageWidth:f(e.scrollWidth,t.scrollWidth,o),pageHeight:f(e.scrollHeight,t.scrollHeight,a)}},r.inherits=function(t,e){var i=t.prototype,n=new u;return n.prototype=e.prototype,V(t.prototype=new n,i),t.prototype.constructor=t,t.superClass=e.prototype,t.prototype},r.setDefault=function(t,e,i){t.hasOwnProperty(e)||(t[e]=i)},r.timer=function(t,e,i){function n(){return(0>e?setInterval:setTimeout)(function(){t.apply(i,o),0>e||(t=i=o=null)},g(e))}var s,o=Array.prototype.slice.call(arguments,3),a=n();return function(r){(0>e?clearInterval:clearTimeout)(a),r?(s&&(a=n()),s=!s):t=i=o=null}}),N=r.toNumber=function(t){return _(t)||0};s.ready=function(){function t(){if(!s){s=!0;for(var t,e=0;t=o[e++];)t()}}var i,n,s=!1,o=[];return l.addEventListener&&!T?l.addEventListener("DOMContentLoaded",t,!1):$&&h==top?i=function(){try{l.documentElement.doScroll("left"),t()}catch(e){W(i,0)}}:S&&(i=function(){var s,o=0,a=l.readyState;if("loaded"!=a&&"complete"!=a)W(i,0);else{if(n===e&&(n=0,(s=l.getElementsByTagName("style"))&&(n+=s.length),s=l.getElementsByTagName("link")))for(;a=s[o++];)"stylesheet"==P(a,"rel")&&n++;l.styleSheets.length!=n?W(i,0):t()}}),i&&i(),k(h,"load",t),function(t){s?t():o.push(t)}}();try{l.execCommand("BackgroundImageCache",!1,!0)}catch(R){}}(),function(){var t,e,i,n,s,o,a,r,h,l,u,c,d,g,p,f,_,v,b,m,$,y,T,S,C,w,x,P,B,M,D,E,H,k,I=ecui,V=I.array,W=I.dom,N=I.ext,R=I.string,L=I.util,Y=I.ui,z=window,O=document,F=Date,A=Math,U=RegExp,j=A.abs,X=A.max,q=A.min,K=isNaN,G=navigator.userAgent,J="CSS1Compat"==O.compatMode,Q=/msie (\d+\.\d)/i.test(G)?O.documentMode||U.$1-0:t,Z=/firefox\/(\d+\.\d)/i.test(G)?U.$1-0:t,te=V.indexOf,ee=V.remove,ie=W.addClass,ne=W.contain,se=W.create,oe=W.getAttribute,ae=W.getParent,re=W.getPosition,he=W.getStyle,le=W.insertHTML,ue=W.ready,ce=W.remove,de=W.removeClass,ge=W.setStyle,pe=R.toCamelCase,fe=L.attachEvent,_e=L.blank,ve=L.detachEvent,be=L.extend,me=L.getView,$e=L.inherits,ye=L.timer,Te=L.toNumber,Se=I.NORMAL=0,Ce=I.LOADING=1,we=I.REPAINT=2,xe=I.findControl=function(t){for(;t;t=ae(t))if(t.getControl)return t.getControl();return null},Pe=["mousedown","mouseover","mousemove","mouseout","mouseup","click","dblclick","focus","blur","activate","deactivate","keydown","keypress","keyup","mousewheel"];!function(){function V(e,i,n,s){for(n=n||new Ke(i),n.cancelBubble=!1;e!=s;e=e.getParent())if(n.returnValue=t,H(e,i,n),n.cancelBubble)return}function W(t,e){if(t!=e){for(var i=0,n=[],s=[];t;t=t.getParent())n.push(t);for(;e;e=e.getParent())s.push(e);for(n.reverse(),s.reverse();n[i]==s[i];i++);t=n[i-1]}return t||null}function R(){return this._cControl}function L(t,e,i,n){var s=t.getOuter().style,o=t.getX(),a=t.getY();s.left=o+"px",s.top=a+"px",s.position="absolute",i.target=t,i.actived=je,ke(i),je=null,H(t,n+"start",e),Q&&O.body.setCapture()}function A(){if(!Ue){Ae=Ce;for(t in N)Ze[t]=N[t];for(t in hi)fe(O,t,hi[t]);Ue={};var t=$(O.body,"data-ecui");return Je=t.name||Je,Ve=t.globalId,We=te(["class","all"],t.structural)+1,le(O.body,"BEFOREEND",'<div style="position:absolute;overflow:scroll;top:-90px;left:-90px;width:80px;height:80px;border:1px solid"><div style="position:absolute;top:0px;height:90px"></div></div>'),t=O.body.lastChild,Ne=t.offsetWidth>80,Re=t.lastChild.offsetTop,Le=t.offsetWidth-t.clientWidth-2,ce(t),fe(z,"resize",gi),fe(z,"unload",function(){for(var e=0;t=ii[e++];)t.$dispose();O=ti=null}),fe(z,"scroll",Ee),di(O.body),ie(O.body,"ecui-loaded"),Ae=Se,!0}}function G(){return Fe.time>(new F).getTime()-200}function Be(t){var e=t.target,i=re(e),n=he(e);return t.pageX-i.left-Te(n.borderLeftWidth)>=e.clientWidth!=t.pageY-i.top-Te(n.borderTopWidth)>=e.clientHeight}function Me(t,e){V(je=t,"activate",e),V(t,"mousedown",e),He(t,e)}function De(t,e){if(t.oncreate&&t.oncreate(e),ii.push(t),e.id&&(Ue[e.id]=t,Ve&&(z[e.id]=t)),e.ext)for(var i in e.ext)Ze[i]&&(Ze[i](t,e.ext[i],e),(i=t["$init"+i.charAt(0).toUpperCase()+pe(i.slice(1))])&&i.call(t,e))}function Ee(t){t=k(t);for(var e,i=0;e=ni[i++];)H(e,"pagescroll",t);P(!0)}function He(t,e){for(;t;t=t.getParent())if(!t.isUserSelect())return e.preventDefault(),void 0}function ke(t){var e={};Ie(hi,!0),be(e,hi),be(e,t),e.x=ze,e.y=Oe,Ie(e),ri.push(hi),hi=e}function Ie(t,e){for(var i,n=0,s=e?ve:fe;5>n;)t[i=Pe[n++]]&&s(O,i,t[i])}var Ve,We,Ne,Re,Le,Ye,ze,Oe,Fe,Ae,Ue,je,Xe,qe,Ke=Y.Event=function(t,e){this.type=t,e?(this.pageX=e.pageX,this.pageY=e.pageY,this.which=e.which,this.target=e.target,this._oNative=e):(this.pageX=ze,this.pageY=Oe,this.which=ei,this.target=O)},Ge=Ke.prototype,Je="ecui",Qe=0,Ze={},ti=[],ei=0,ii=[],ni=[],si=0,oi={},ai={},ri=[],hi={click:function(t){t=k(t);var e=xe(t.target);e&&e.isDisabled()&&t.preventDefault()},mousedown:function(e){if(je)return V(je,"deactivate"),je=null,void 0;e=k(e);var i="ui-monthview-item",n=e.getControl(i),s=8>Q&&Be(e),o=n;if(Fe&&G()||(Fe={time:(new F).getTime()}),n){if(s)return;if(n._bDisabled)return Me(n,e),void 0;for(;o;o=o.getParent())if(o.isFocusable()){o!=n&&o.contain(qe)||E(o);break}s||Me(n,e)}else(n=xe(o=e.target))&&(He(n,e),("INPUT"==o.tagName||"SELECT"==o.tagName||"TEXTAREA"==o.tagName||"BUTTON"==o.tagName)&&ye(function(){o.blur()})),E(),je=t},mouseover:function(t){if("drag"!=hi.type&&"zoom"!=hi.type){t=k(t);var e=t.getControl(),i=W(e,Xe);V(Xe,"mouseout",t,i),V(e,"mouseover",t,i),Xe=e}},mousemove:function(t){t=k(t);var e=t.getControl();V(e,"mousemove",t)},mouseup:function(t){t=k(t);var e,i=t.getControl();null!==je&&(V(i,"mouseup",t),je&&(e=W(i,je),V(e,"click",t),Fe&&(G()&&Fe.target==i?(V(e,"dblclick",t),Fe=null):Fe.target=i),V(je,"deactivate",t)),je=null)}},li={type:"drag",mousemove:function(t){t=k(t);var e=hi.target,i=e.getX()+ze-hi.x,n=e.getY()+Oe-hi.y,s=q(X(i,hi.left),hi.right),o=q(X(n,hi.top),hi.bottom);H(e,"dragmove",t,[s,o])&&e.setPosition(s,o),hi.x=ze+e.getX()-i,hi.y=Oe+e.getY()-n},mouseup:function(t){t=k(t);var e=hi.target;H(e,"dragend",t),je=hi.actived,D(),hi.mouseover(t),hi.mouseup(t)}},ui={type:"intercept",mousedown:function(t){t=k(t);var e=hi.target,i=hi,n=t.getControl();Fe=null,Be(t)||(n&&!n.isFocusable()?Me(n,t):H(e,"intercept",t)?D():t.cancelBubble||(i==hi?n&&Me(n,t):hi.mousedown(t)))}},ci={type:"zoom",mousemove:function(t){t=k(t);var e=hi.target,i=hi.width=ze-hi.x+hi.width,n=hi.height=Oe-hi.y+hi.height,s=hi.minWidth,o=hi.maxWidth,a=hi.minHeight,r=hi.maxHeight;hi.x=ze,hi.y=Oe,i=s>i?s:i>o?o:i,n=a>n?a:n>r?r:n,e.setPosition(hi.left+q(i,0),hi.top+q(n,0)),H(e,"zoom",t)&&e.setSize(j(i),j(n))},mouseup:function(t){t=k(t);var e=hi.target;H(e,"zoomend",t),je=hi.actived,D(),gi(),hi.mouseover(t),hi.mouseup(t)}},di=I.init=function(t){if(!A()&&t){var e,i=0,n=[],o=t.all||t.getElementsByTagName("*"),a=[t],r={};for(Qe++||ve(z,"resize",gi);e=o[i++];)oe(e,Je)&&a.push(e);for(i=0;t=a[i];i++)o=$(t),(e=o.type)&&(o.main=t,n.push(s(Y[pe(e.charAt(0).toUpperCase()+e.slice(1))],o)),o.id&&(r[o.id]=n[n.length-1]));for(i=0;e=n[i++];)e.cache();for(i=0;e=n[i++];)e.init();return--Qe||fe(z,"resize",gi),r}},gi=I.repaint=function(){var e,i=0,n=[],s=[];if(Q){if(e=(J?O.documentElement:O.body).clientWidth,Ye==e)return Ee(new Ke("scroll")),void 0;Ye=e}if(Ae=we,e=hi.type,P(!1),"zoom"!=e){for("drag"==e&&hi.mouseup(),e=null;e!==t;e=n[i++])for(var o=0,a=M({parent:e});e=a[o++];)e.isShow()&&e.isResizable()&&n.push(e);for(i=0;e=n[i++];)e.repaint=_e,H(e,"resize"),delete e.repaint,8>Q&&(e=he(o=e.getMain()),"auto"==e.width&&"block"==e.display&&(o.style.width="100%"));if(8>Q){for(i=0;e=n[i];)s[i++]=e.getMain().offsetWidth;for(;e=n[i--];)e.getMain().style.width=s[i]-(Ne?2*e.$getBasicWidth():0)+"px"}for(i=0;e=n[i++];)e.cache(!0,!0);for(i=0;e=n[i++];)e.$setSize(e.getWidth(),e.getHeight())}8>Q?ye(P,0,null,!0):P(!0),Ae=Se};e=I.$bind=function(t,e){t._cControl=e,t.getControl=R},n=I.$clearState=function(t){var e=t.getParent();x(t),t.contain(je)&&V(je,"deactivate",null,je=e),t.contain(Xe)&&V(Xe,"mouseout",null,Xe=e)},i=I.$connect=function(t,e,i){if(i){var n=Ue[i];n?e.call(t,n):(oi[i]=oi[i]||[]).push({func:e,caller:t})}},s=I.$create=function(t,e){t=t.client||t,e=e||{};var i,n=0,s=e.parent,o=e.main,a=e.primary||"";if(e.uid="ecui-"+ ++si,o){if(We?i=o.className:o.className=i=o.className+" "+a+t.agent.TYPES,a||(/\s*([^\s]+)/.test(i),e.primary=U.$1),o.getControl)return o.getControl()}else o=e.main=se(a+t.agent.TYPES),a||(e.primary=t.agent.types[0]);if(t=new t(o,e),s?s instanceof Y.Control?t.setParent(s):t.appendTo(s):t.$setParent(xe(ae(t.getOuter()))),De(t,e),ni.push(t),o=oi[e.id])for(oi[e.id]=null;a=o[n++];)a.func.call(a.caller,t);return t},o=I.$fastCreate=function(t,e,i,n){return t=t.client||t,n=n||{},n.uid="ecui-"+ ++si,n.primary||(/\s*([^\s]+)/.test(e.className),n.primary=U.$1),t=new t(e,n),t.$setParent(i),De(t,n),t},I.addEventListener=function(t,e,i){e=t.getUID()+e,(ai[e]=ai[e]||[]).push(i)},a=I.calcHeightRevise=function(t){return Ne?Te(t.borderTopWidth)+Te(t.borderBottomWidth)+Te(t.paddingTop)+Te(t.paddingBottom):0},r=I.calcLeftRevise=function(t){var e=he(t.offsetParent);return!Z||"visible"!=e.overflow&&"absolute"==he(t,"position")?Te(e.borderLeftWidth)*Re:0},h=I.calcTopRevise=function(t){var e=he(t.offsetParent);return!Z||"visible"!=e.overflow&&"absolute"==he(t,"position")?Te(e.borderTopWidth)*Re:0},l=I.calcWidthRevise=function(t){return Ne?Te(t.borderLeftWidth)+Te(t.borderRightWidth)+Te(t.paddingLeft)+Te(t.paddingRight):0},u=I.create=function(t,e){return t=s("string"==typeof t?Y[t]:t,e),t.cache(),t.init(),t},c=I.dispose=function(t){var e,i=ii.length,s=t instanceof Y.Control,o={},a=[];s?n(t):(e=xe(ae(t)),qe&&ne(t,qe.getOuter())&&E(e),je&&ne(t,je.getOuter())&&V(je,"deactivate",null,je=e),Xe&&ne(t,Xe.getOuter())&&V(Xe,"mouseout",null,Xe=e));for(e in Ue)o[Ue[e].getUID()]=e;for(;i--;)e=ii[i],(s?t.contain(e):!!e.getOuter()&&ne(t,e.getOuter()))&&(a.push(e),ee(ni,e),(e=o[e.getUID()])&&delete Ue[e],ii.splice(i,1));for(;e=a[++i];)e.$dispose()},I.$dispose=function(t,e){var i,s,o=t instanceof Y.Control,a={},r=[],h=[];o?n(t):(i=xe(ae(t)),qe&&ne(t,qe.getOuter())&&E(i),je&&ne(t,je.getOuter())&&V(je,"deactivate",null,je=i),Xe&&ne(t,Xe.getOuter())&&V(Xe,"mouseout",null,Xe=i));for(i in Ue)a[Ue[i].getUID()]=i,h.push(Ue[i]);for(e&&(h=[t]),s=0;i=h[s];s++)(o?t.contain(i):!!i.getOuter()&&ne(t,i.getOuter()))&&(r.push(i),ee(ni,i),ee(ii,i),(i=a[i.getUID()])&&delete Ue[i]);for(s=0;i=r[s];s++)i.$dispose()},d=I.drag=function(t,e,i){if("mousedown"==e.type){var n=t.getOuter().offsetParent,s=he(n);be(li,"BODY"==n.tagName||"HTML"==n.tagName?me():{top:0,right:n.offsetWidth-Te(s.borderLeftWidth)-Te(s.borderRightWidth),bottom:n.offsetHeight-Te(s.borderTopWidth)-Te(s.borderBottomWidth),left:0}),be(li,i),li.right=X(li.right-t.getWidth(),li.left),li.bottom=X(li.bottom-t.getHeight(),li.top),L(t,e,li,"drag")}},I.get=function(t){return A(),Ue[t]||null},g=I.getActived=function(){return je||null},p=I.getAttributeName=function(){return Je},f=I.getFocused=function(){return qe||null},_=I.getHovered=function(){return Xe},v=I.getKey=function(){return ei},b=I.getMouseX=function(t){return t?(t=t.getBody(),ze-re(t).left-Te(he(t,"borderLeftWidth"))):ze},m=I.getMouseY=function(t){return t?(t=t.getBody(),Oe-re(t).top-Te(he(t,"borderTopWidth"))):Oe},I.getNamedControls=function(){return be({},Ue)},$=I.getOptions=function(t,e){e=e||Je;var i,n=oe(t,e);if(n){if(t.removeAttribute(e),I.onparseoptions&&(i=I.onparseoptions(n)))return i;for(i={};/^(\s*;)?\s*(ext\-)?([\w\-]+)\s*(:\s*([^;\s]+(\s+[^;\s]+)*)\s*)?($|;)/.test(n);)n=U["$'"],t=U.$5,e=U.$2?i.ext=i.ext||{}:i,e[pe(U.$3)]=t&&"true"!=t?"false"==t?!1:K(+t)?t:+t:!0;return i}return{}},y=I.getScrollNarrow=function(){return Le},T=I.getStatus=function(){return Ae},S=I.inherits=function(t,e,i,n){var s=function(t){return u(s.client,t)},o=s.client=function(e,i){s.preprocess&&(e=s.preprocess.call(this,e,i)||e),t&&t.client.call(this,e,i),n&&n.call(this,e,i)};return s.preprocess=i,t?($e(s,t),e&&"*"==e.charAt(0)?(s.types=t.types.slice())[0]=e.slice(1):s.types=(e?[e]:[]).concat(t.types)):s.types=[],s.TYPES=" "+s.types.join(" "),$e(o,s),o.agent=s,s},C=I.intercept=function(t){ui.target=t,ke(ui)},w=I.isContentBox=function(){return Ne},x=I.loseFocus=function(t){t.contain(qe)&&E(t.getParent())},P=I.mask=function(e,i){var n=0,s=O.body,o=me(),a=X(o.top-2*o.height,0),r=X(o.left-2*o.width,0),h=";top:"+a+"px;left:"+r+"px;width:"+q(5*o.width,o.pageWidth-r)+"px;height:"+q(5*o.height,o.pageHeight-a)+"px;display:";if("boolean"==typeof e)for(h+=e?"block":"none";o=ti[n++];)o.style.cssText+=h;else e===t?(ce(ti.pop()),ti.length||de(s,"ecui-mask")):(ti.length||ie(s,"ecui-mask"),ti.push(o=s.appendChild(se("","position:absolute;background-color:#000;z-index:"+(i||32767)))),ge(o,"opacity",e),o.style.cssText+=h+"block")},B=I.needInitClass=function(){return!We},M=I.query=function(e){e=e||{};for(var i,n=0,s=[],o=e.parent,a=e.custom;i=ni[n++];)e.type&&!(i instanceof e.type)||o!==t&&i.getParent()!==o||a&&!a.call(this,i)||s.push(i);return s},I.removeEventListener=function(t,e,i){(e=ai[t.getUID()+e])&&ee(e,i)},D=I.restore=function(){Q&&("drag"==hi.type||"zoom"==hi.type)&&O.body.releaseCapture(),Ie(hi,!0),Ie(hi=ri.pop())},E=I.setFocused=function(t){t&&t.isDisabled()&&(t=null);var e=W(qe,t);V(qe,"blur",null,e),V(qe=t,"focus",null,e)},H=I.triggerEvent=function(t,e,i,n){if(n&&i?n.splice(0,0,i):i?n=[i]:(i={returnValue:i,preventDefault:Ge.preventDefault},n=n||[]),s=ai[t.getUID()+e])for(var s,o,a=0;o=s[a++];)o.apply(t,n);return(t["on"+e]&&t["on"+e].apply(t,n)===!1||i.returnValue===!1||t["$"+e]&&t["$"+e].apply(t,n)===!1)&&i.preventDefault(),i.returnValue!==!1},k=I.wrapEvent=function(t){if(t instanceof Ke)return t;var e=O.body,i=ae(e);return Q&&(t=z.event,t.pageX=i.scrollLeft+e.scrollLeft-i.clientLeft+t.clientX-e.clientLeft,t.pageY=i.scrollTop+e.scrollTop-i.clientTop+t.clientY-e.clientTop,t.target=t.srcElement,t.which=t.keyCode),"mousemove"==t.type&&(Fe=null),ze=t.pageX,Oe=t.pageY,new Ke(t.type,t)},I.zoom=function(t,e,i){"mousedown"==e.type&&(i&&be(ci,i),ci.top=t.getY(),ci.left=t.getX(),ci.width=t.getWidth(),ci.height=t.getHeight(),L(t,e,ci,"zoom"))},hi.keydown=hi.keypress=hi.keyup=function(t){t=k(t);var e=t.type,i=t.which;"keydown"==e&&(ei=i),V(qe,e,t),"keyup"==e&&ei==i&&(ei=0)},Q&&(hi.dblclick=function(t){hi.mousedown(t),hi.mouseup(t)},hi.selectstart=function(t){t=k(t),He(xe(t.target),t)}),hi[Z?"DOMMouseScroll":"mousewheel"]=function(e){e=k(e),e.detail=e._oNative.detail===t?e._oNative.wheelDelta/-40:e._oNative.detail,"drag"==hi.type?e.preventDefault():(V(Xe,"mousewheel",e),e.cancelBubble||V(qe,"mousewheel",e))},Ge.getControl=function(t){var e=xe(this.target);if(e&&!e.isDisabled())for(;e;e=e.getParent())if(e.isCapturable())return e;if(e&&e._sPrimary==t)for(;e;e=e.getParent())if(e.isCapturable())return e;return null},Ge.getNative=function(){return this._oNative},Ge.preventDefault=function(){this.returnValue=!1,this._oNative&&(Q?this._oNative.returnValue=!1:this._oNative.preventDefault())},Ge.stopPropagation=function(){this.cancelBubble=!0,this._oNative&&(Q?this._oNative.cancelBubble=!1:this._oNative.stopPropagation())},Ge.exit=function(){this.preventDefault(),this.stopPropagation()},ue(di)}()}(),function(){function t(t,e,i){var n=t._cParent,s=t.getOuter(),o=t._bCreated&&t.isShow();if(e!=n){if(n&&!N(n,"remove",null,[t]))return;e&&(N(e,"append",null,[t])||(e=i=null))}i!=p(s)&&(i?i.appendChild(s):v(s),t.$setParent(e)),o!=(t._bCreated&&t.isShow())&&N(t,o?"hide":"show",!1)}var e,i,n=ecui,s=n.array,o=n.dom,a=n.ui,r=n.util,h=document,l=RegExp,u=navigator.userAgent,c=/msie (\d+\.\d)/i.test(u)?h.documentMode||l.$1-0:e,d=s.remove,g=o.addClass,p=o.getParent,f=o.getStyle,_=o.removeClass,v=o.remove,b=r.blank,m=r.timer,$=r.toNumber,y=n.REPAINT,T=n.$bind,S=n.$clearState,C=n.calcLeftRevise,w=n.calcTopRevise,x=n.dispose,P=n.findControl,B=n.getActived,M=n.getFocused,D=n.getHovered,E=n.getStatus,H=n.inherits,k=n.isContentBox,I=n.loseFocus,V=n.query,W=n.setFocused,N=n.triggerEvent,R=["mousedown","mouseover","mousemove","mouseout","mouseup","click","dblclick","focus","blur","activate","deactivate","keydown","keypress","keyup","mousewheel"],L=a.Control=H(null,null,null,function(t,e){T(t,this),this._bDisabled=!!e.disabled,this._sUID=e.uid,this._sPrimary=e.primary||"",this._sClass=e.current||this._sPrimary,this._eMain=this._eBody=t,this._cParent=null,this._bCapturable=e.capturable!==!1,this._bUserSelect=e.userSelect!==!1,this._bFocusable=e.focusable!==!1,e.resizable!==!1?(this._bResizable=!0,t=t.style,this._sWidth=t.width,this._sHeight=t.height):this._bResizable=!1,this._aStatus=[""," "]}),Y=L.prototype,z={custom:function(t){return this!=t&&this.contain(t)&&t.isShow()}};Y.$activate=function(){this.alterClass("+active")},Y.$blur=function(){this.alterClass("-focus")},Y.$cache=function(t,e){if(8>c)i=t.borderWidth,i.indexOf(" ")>0?(i=i.split(" "),this.$$borderTopWidth=$(i[0]),this.$$borderRightWidth=$(i[1]),this.$$borderBottomWidth=i[2]?$(i[2]):this.$$borderTopWidth,this.$$borderLeftWidth=i[3]?$(i[3]):this.$$borderRightWidth=$(i[1])):this.$$borderTopWidth=this.$$borderLeftWidth=this.$$borderRightWidth=this.$$borderBottomWidth=$(i),i=t.padding,i.indexOf(" ")>0?(i=i.split(" "),this.$$paddingTop=$(i[0]),this.$$paddingRight=$(i[1]),this.$$paddingBottom=i[2]?$(i[2]):this.$$paddingTop,this.$$paddingLeft=i[3]?$(i[3]):this.$$paddingRight):this.$$paddingTop=this.$$paddingLeft=this.$$paddingRight=this.$$paddingBottom=$(i);else for(var i,n=0,s=["borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","paddingTop","paddingLeft","paddingRight","paddingBottom"];i=s[n++];)this["$$"+i]=$(t[i]);this.$$position=t.position,e!==!1&&(i=k(),this.$$width=this._eMain.offsetWidth||$(t.width)+(i?this.$getBasicWidth():0),this.$$height=this._eMain.offsetHeight||$(t.height)+(i?this.$getBasicHeight():0))},Y.$deactivate=function(){this.alterClass("-active")},Y.$dispose=function(){try{N(this,"dispose",!1)}catch(t){}this._eMain.getControl=e,this._eMain=this._eBody=null,this.$ready=b},Y.$focus=function(){this.alterClass("+focus")},Y.$getBasicHeight=function(){return this.$$borderTopWidth+this.$$borderBottomWidth+this.$$paddingTop+this.$$paddingBottom},Y.$getBasicWidth=function(){return this.$$borderLeftWidth+this.$$borderRightWidth+this.$$paddingLeft+this.$$paddingRight},Y.$getSection=function(t){return this["_u"+t]},Y.$hide=function(){if(this._sDisplay===e){if(this._bCreated)for(var t,i=0,n=V.call(this,z);t=n[i++];)N(t,"hide",!1);t=this.getOuter().style,this._sDisplay=t.display,t.display="none",S(this)}},Y.$locate=function(){"static"==this.$$position&&(this._eMain.style.position=this.$$position="relative")},Y.$mouseout=function(){this.alterClass("-hover")},Y.$mouseover=function(){this.alterClass("+hover")},Y.$resize=function(){var t=this._eMain,e=t.style;if(e.width=this._sWidth,8>c&&E()!=y){var i=f(t);"auto"==i.width&&"block"==i.display&&(e.width="100%",e.width=t.offsetWidth-(k()?2*this.$getBasicWidth():0)+"px")}e.height=this._sHeight},Y.$setBody=function(t){this._eBody=t},Y.$setParent=function(t){this._cParent=t},Y.$setSize=function(t,e){var i=this._eMain.style,n=this._eMain.tagName,s=k()&&"BUTTON"!=n&&"INPUT"!=n;t&&(n=t-(s?this.$getBasicWidth():0))>0&&(i.width=n+"px",this.$$width=t),e&&(n=e-(s?this.$getBasicHeight():0))>0&&(i.height=n+"px",this.$$height=e)},Y.$show=function(){if(this.getOuter().style.display=this._sDisplay||"",this._sDisplay=e,this._bCreated)for(var t,i=0,n=V.call(this,z);t=n[i++];)N(t,"show",!1)},Y.alterClass=function(t){var e="+"==t.charAt(0);e?t="-"+t.slice(1)+" ":t+=" ",(e?g:_)(this._eMain,this.getTypes().concat([this._sClass,""]).join(t)),e?this._aStatus.push(t):d(this._aStatus,t)},Y.appendTo=function(e){t(this,e&&P(e),e)},Y.blur=function(){I(this)},Y.cache=function(t,e){(e||!this._bCached)&&(this._bCached=!0,this.$cache(f(this._eMain),t))},Y.clearCache=function(){this._bCached=!1},Y.contain=function(t){for(;t;t=t._cParent)if(t==this)return!0;return!1},Y.disable=function(){return this._bDisabled?!1:(this.alterClass("+disabled"),this._bDisabled=!0,S(this),!0)},Y.dispose=function(){x(this)},Y.enable=function(){return this._bDisabled?(this.alterClass("-disabled"),this._bDisabled=!1,!0):!1},Y.focus=function(){this.isFocused()||W(this)},Y.getBody=function(){return this._eBody},Y.getBodyHeight=function(){return this.getHeight()-this.getMinimumHeight()},Y.getBodyWidth=function(){return this.getWidth()-this.getMinimumWidth()},Y.getClass=function(){return this._sClass},Y.getContent=function(){return this._eBody.innerHTML},Y.getHeight=function(){return this.cache(),this.$$height},Y.getMain=function(){return this._eMain},Y.getMinimumHeight=function(){return this.cache(),this.$getBasicHeight()+(this.$$bodyHeightRevise||0)},Y.getMinimumWidth=function(){return this.cache(),this.$getBasicWidth()+(this.$$bodyWidthRevise||0)},Y.getOuter=function(){return this._eMain},Y.getParent=function(){return this._cParent||null},Y.getPrimary=function(){return this._sPrimary},Y.getType=function(){return this.constructor.agent.types[0]},Y.getTypes=function(){return this.constructor.agent.types.slice()},Y.getUID=function(){return this._sUID},Y.getWidth=function(){return this.cache(),this.$$width},Y.getX=function(){var t=this.getOuter();return this.isShow()?t.offsetLeft-C(t):0},Y.getY=function(){var t=this.getOuter();return this.isShow()?t.offsetTop-w(t):0},Y.hide=function(){this.isShow()&&N(this,"hide")},Y.init=function(){this._bCreated||(this._bDisabled&&this.alterClass("+disabled"),this.$setSize(this.getWidth(),this.getHeight()),null===i?this.$ready():(i||(i=[],m(function(){for(var t,e=0;t=i[e++];)t.$ready();i=null})),this.$ready!=b&&i.push(this)),this._bCreated=!0)},Y.isActived=function(){return this.contain(B())},Y.isCapturable=function(){return this._bCapturable},Y.isDisabled=function(){return this._bDisabled||!!this._cParent&&this._cParent.isDisabled()},Y.isFocusable=function(){return this._bFocusable},Y.isFocused=function(){return this.contain(M())},Y.isHovered=function(){return this.contain(D())},Y.isResizable=function(){return this._bResizable},Y.isShow=function(){return!!this.getOuter().offsetWidth},Y.isUserSelect=function(){return this._bUserSelect},Y.render=function(){this.resize()},Y.repaint=function(){this.cache(!0,!0),this.$setSize(this.getWidth(),this.getHeight())},Y.resize=function(){this._bResizable&&(this.$resize(),this.repaint())},Y.setBodySize=function(t,e){this.setSize(t&&t+this.getMinimumWidth(),e&&e+this.getMinimumHeight())},Y.setClass=function(t){var e=0,i=this._sClass,n=this.getTypes(),s=[];if(t=t||this._sPrimary,t!=i){for(n.splice(0,0,this._sClass=t);n[e];)s[e]=this._aStatus.join(n[e++]);n[0]=i,this._eMain.className=s.join("")+this._eMain.className.split(/\s+/).join("  ").replace(new l("(^| )("+n.join("|")+")(-[^ ]+)?( |$)","g"),"")}},Y.setContent=function(t){this._eBody.innerHTML=t},Y.setParent=function(e){t(this,e,e&&e._eBody)},Y.setPosition=function(t,e){var i=this.getOuter().style;i.left=t+"px",i.top=e+"px"},Y.setSize=function(t,e){if(this._bResizable){this.cache();var i=this._eMain.style;t<this.getMinimumWidth()&&(t=0),e<this.getMinimumHeight()&&(e=0),this.$setSize(t,e),t&&(this._sWidth=i.width),e&&(this._sHeight=i.height)}},Y.show=function(){return this.isShow()?!1:(N(this,"show"),!0)},function(){for(var t,e=0;t=R[e++];)Y["$"+t]=Y["$"+t]||b;Y.$intercept=Y.$append=Y.$remove=Y.$zoomstart=Y.$zoom=Y.$zoomend=Y.$dragstart=Y.$dragmove=Y.$dragend=Y.$ready=Y.$pagescroll=b}()}(),function(){function t(t){if(y(t._eInput,t),!t._bHidden)for(var e in D)b(t._eInput,e,D[e])}function e(t){var e=d("span");return e.className="ui-tip-error",p(e,t.getOuter()),t._oErrorTip=w("Tip",{main:e}),t._oErrorTip}var i,n=ecui,s=n.dom,o=n.string,a=n.ui,r=n.util,h=document,l=RegExp,u=navigator.userAgent,c=/msie (\d+\.\d)/i.test(u)?h.documentMode||l.$1-0:i,d=s.create,g=s.insertBefore,p=s.insertAfter,f=s.setInput,_=s.setStyle,v=o.encodeHTML,b=r.attachEvent,m=r.blank,$=r.detachEvent,y=n.$bind,T=n.inherits,S=n.triggerEvent,C=n.wrapEvent,w=n.create,x=a.Control,P=x.prototype,B=a.InputControl=T(x,null,function(t,e){var n;return"INPUT"==t.tagName||"TEXTAREA"==t.tagName?(n=t,g(t=d(n.className,n.style.cssText,"span"),n).appendChild(n),n.className=""):(n=t.getElementsByTagName("INPUT")[0]||t.getElementsByTagName("TEXTAREA")[0],n||(n=f(null,e.name,e.inputType),n.defaultValue=n.value=e.value===i?"":e.value.toString(),t.appendChild(n))),_(t,"display","inline-block"),n.style.border="0px",e.hidden&&(n.style.display="none"),e.checked&&(n.defaultChecked=n.checked=!0),t
},function(e,i){this._bHidden=i.hidden,this._eInput=e.getElementsByTagName("INPUT")[0]||e.getElementsByTagName("TEXTAREA")[0],r.validator&&(this._aValidateRules=r.validator.collectRules(i)),t(this)}),M=B.prototype,D={};D.blur=D.focus=function(t){var e=t.type;C(t).target.getControl&&(t=C(t).target.getControl(),t["$"+e]=P["$"+e],t[e](),delete t["$"+e])},D.dragover=D.drop=function(t){C(t).exit()},c?D.propertychange=function(t){"value"==t.propertyName&&S(C(t).target.getControl(),"change")}:D.input=function(){S(this.getControl(),"change")},M.$dispose=function(){this._eInput.getControl=i,this._eInput=null,P.$dispose.call(this)},M.$reset=function(){this.$ready()},M.$setParent=function(t){P.$setParent.call(this,t),(t=this._eInput.form)&&t.getControl&&t.getControl().addItem(this.getName(),this)},M.$setSize=function(t,e){P.$setSize.call(this,t,e),this._eInput.style.width=this.getBodyWidth()+"px",this._eInput.style.height=this.getBodyHeight()+"px"},M.$submit=m,M.disable=function(){if(P.disable.call(this)){var t=this.getBody();return this._bHidden?this._eInput.disabled=!0:(t.removeChild(this._eInput),"password"!=this._eInput.type&&(t.innerHTML=v(this._eInput.value))),!0}return!1},M.enable=function(){if(P.enable.call(this)){var t=this.getBody();return this._bHidden?this._eInput.disabled=!1:(t.innerHTML="",t.appendChild(this._eInput)),!0}return!1},M.getInput=function(){return this._eInput},M.getName=function(){return this._eInput.name},M.getSelectionEnd=c?function(){var t=h.selection.createRange().duplicate();return t.moveStart("character",-this._eInput.value.length),t.text.length}:function(){return this._eInput.selectionEnd},M.getSelectionStart=c?function(){var t=h.selection.createRange().duplicate(),e=this._eInput.value.length;return t.moveEnd("character",e),e-t.text.length}:function(){return this._eInput.selectionStart},M.getValue=function(){return this._eInput.value},M.setCaret=c?function(t){var e=this._eInput.createTextRange();e.collapse(),e.select(),e.moveStart("character",t),e.collapse(),e.select()}:function(t){this._eInput.setSelectionRange(t,t)},M.setName=function(e){var i=f(this._eInput,e||"");this._eInput!=i&&(t(this),this._eInput=i)},M.setValue=function(t){var e=this._eInput,i=D.propertychange;i&&$(e,"propertychange",i),e.value=t,i&&b(e,"propertychange",i)},M.validate=function(){return!0},M.setError=function(t){var i=this._oErrorTip;i||(i=e(this)),t?(i.setMessage(t),i.show()):i.hide()},M.setDefaultValue=function(){var t=this.getValue();this._eInput.defaultValue=t},function(){function t(t){M["$"+t]=function(){P["$"+t].call(this);var e=this._eInput;$(e,t,D[t]);try{e[t]()}catch(i){}b(e,t,D[t])}}t("blur"),t("focus")}()}(),function(){function t(t){var e,i=t||window.event;i.preventDefault?i.preventDefault():i.cancelBuble=!0,i=i.target||i.srcElement,e=i.parentNode.getControl(),e.getInput().focus()}function e(t,e){t._eTip&&(t._eTip.style.display=e?"":"none")}var i=ecui,n=i.dom,s=i.string,o=i.ui,a=i.util,r=a.attachEvent,h=n.create,l=(s.trim,i.setFocused,a.blank),u=i.inherits,c=o.Control,d=c.prototype,g=o.InputControl,p=g.prototype,f=o.Input=u(g,"ui-input",function(t,e){e.resizable=!1},function(e,i){var n,s=this.getType();this.getInput().style.border="",i.maxLength&&(this._sMaxLength=i.maxLength),i.tip&&(n=h(s+"-tip","display:none"),n.innerHTML=i.tip,this.getBody().appendChild(n),this._eTip=n,r(this._eTip,"mousedown",t))}),_=f.prototype;o.Textarea=u(f,"ui-textarea",function(t,e){e.inputType="textarea"}),_.$keydown=function(){e(this,!1)},_.$keyup=function(){var t=this.getValue();this._sMaxLength&&baidu.string.getByteLength(t)>this._sMaxLength&&this.setValue(baidu.string.subByte(t,this._sMaxLength)),t||e(this,!0)},_.$blur=function(){d.$blur.call(this),this.getValue()||e(this,!0)},_.$setSize=l,_.setValue=function(t){p.setValue.call(this,t),e(this,t?!1:!0)},_.init=function(){this.getValue()||e(this,!0),p.init.call(this)}}(),function(){var t=ecui,e=t.dom,i=t.ui,n=t.util,s=e.setText,o=n.setDefault,a=t.inherits,r=i.Control,h=r.prototype,l=i.Button=a(r,"ui-button",function(t,e){o(e,"userSelect",!1),e.text&&s(t,e.text)}),u=l.prototype;u.$activate=function(t){h.$activate.call(this,t),t.stopPropagation()},u.$mouseout=function(t){h.$mouseout.call(this,t),this.isActived()&&this.alterClass("-active")},u.$mouseover=function(t){h.$mouseover.call(this,t),this.isActived()&&this.alterClass("+active")},u.setText=function(t){s(this.getBody(),t)}}(),function(){function t(e,i,n){var s=e._nValue,o=e.getMouseDirection();e._oStop(),-1==o&&0>i||1==o&&i>0?e.setValue(s+i):s=-1,e._oStop=e._nValue!=s?g(t,n||200,null,e,i,40):c}function e(t){var e,i=t.getParent();i&&(i.$scroll(),w[e=i.getUID()]||(g(function(){delete w[e],$(i,"scroll",!1)}),w[e]=!0))}var i=ecui,n=i.dom,s=i.ui,o=i.util,a=Math,r=a.floor,h=a.max,l=a.min,u=n.children,c=o.blank,d=o.setDefault,g=o.timer,p=i.$fastCreate,f=i.drag,_=i.getActived,v=i.getMouseX,b=i.getMouseY,m=i.inherits,$=i.triggerEvent,y=s.Control,T=y.prototype,S=s.Button,C=S.prototype,w=s.Scrollbar=m(y,"ui-scrollbar",function(t,e){d(e,"userSelect",!1),d(e,"focusable",!1);var i=this.getType();t.innerHTML='<div class="'+i+"-prev"+this.Button.TYPES+'" style="position:absolute;top:0px;left:0px"></div><div class="'+i+"-next"+this.Button.TYPES+'" style="position:absolute;top:0px;left:0px"></div><div class="'+this.Thumb.TYPES+'" style="position:absolute"></div>'},function(t){t=u(t),this._nValue=this._nTotal=0,this._nStep=1,this._uPrev=p(this.Button,t[0],this,{focusable:!1}),this._uNext=p(this.Button,t[1],this,{focusable:!1}),this._uThumb=p(this.Thumb,t[2],this,{focusable:!1}),this._oStop=c}),x=w.prototype,P=(x.Thumb=m(S,"ui-scrollbar-thumb")).prototype,B=(x.Button=m(S,"ui-scrollbar-button")).prototype;P.$activate=function(t){C.$activate.call(this,t),f(this,t,this._oRange)},P.$dragmove=function(t,i,n){C.$dragmove.call(this,t,i,n);var s=this.getParent(),o=s.$calculateValue(i,n);s.$setValue(o==s._nTotal?o:o-o%s._nStep),e(s)},P.setRange=function(t,e,i,n){this._oRange={top:t,right:e,bottom:i,left:n}},B.$activate=function(e){C.$activate.call(this,e);var i=this.getParent();t(i,i.getMouseDirection()*h(i._nStep,5))},B.$deactivate=function(t){C.$deactivate.call(this,t),this.getParent()._oStop()},B.$mouseout=function(t){C.$mouseout.call(this,t),_()==this&&this.getParent()._oStop(!0)},B.$mouseover=function(t){C.$mouseover.call(this,t),_()==this&&this.getParent()._oStop(!0)},x.$activate=function(e){T.$activate.call(this,e),t(this,this.getMouseDirection()*this.$getPageStep())},x.$cache=function(t,e){T.$cache.call(this,t,e),this._uPrev.cache(!0,!0),this._uNext.cache(!0,!0),this._uThumb.cache(!0,!0)},x.$deactivate=function(t){T.$deactivate.call(this,t),this._oStop()},x.$hide=function(){T.$hide.call(this),x.setValue.call(this,0)},x.$mouseout=function(t){T.$mouseout.call(this,t),_()==this&&this._oStop(!0)},x.$mouseover=function(t){T.$mouseover.call(this,t),_()==this&&this._oStop(!0)},x.$setPageStep=function(t){this._nPageStep=t},x.$setSize=function(t,e){T.$setSize.call(this,t,e),this.$locate()},x.$setValue=function(t){this._nValue=t},x.getStep=function(){return this._nStep},x.getTotal=function(){return this._nTotal},x.getValue=function(){return this._nValue},x.init=function(){T.init.call(this),this._uPrev.init(),this._uNext.init(),this._uThumb.init()},x.setStep=function(t){t>0&&(this._nStep=t)},x.setTotal=function(t){t>=0&&this._nTotal!=t&&(this._nTotal=t,this._nValue>t&&(this._nValue=t,e(this)),this.$flushThumb())},x.setValue=function(t){t=l(h(0,t),this._nTotal),this._nValue!=t&&(this._nValue=t,e(this),this.$flushThumb())},x.skip=function(t){this.setValue(this._nValue+t*this._nStep)};var M=s.VScrollbar=m(w,"ui-vscrollbar"),D=M.prototype;D.$calculateValue=function(t,e){var i=this._uThumb,n=i._oRange;return(e-n.top)/(n.bottom-this._uPrev.getHeight()-i.getHeight())*this._nTotal},D.$flushThumb=function(){var t=this._uThumb,e=this._nTotal,i=this.getHeight(),n=this._uPrev.getHeight(),s=this.getBodyHeight(),o=h(r(s*i/(i+e)),t.getMinimumHeight()+5);e&&(t.$setSize(0,o),t.setPosition(0,n+r(this._nValue/e*(s-o))),t.setRange(n,0,s+n,0))},D.$getPageStep=function(){var t=this.getHeight();return this._nPageStep||t-t%this._nStep},D.$setSize=function(t,e){x.$setSize.call(this,t,e);var i=this.getBodyWidth(),n=this.$$paddingTop,s=this._uNext;this._uPrev.$setSize(i,n),s.$setSize(i,this.$$paddingBottom),this._uThumb.$setSize(i),s.setPosition(0,this.getBodyHeight()+n),this.$flushThumb()},D.getMouseDirection=function(){return b(this)<this._uThumb.getY()?-1:b(this)>this._uThumb.getY()+this._uThumb.getHeight()?1:0};var E=s.HScrollbar=m(w,"ui-hscrollbar"),H=E.prototype;H.$calculateValue=function(t){var e=this._uThumb,i=e._oRange;return(t-i.left)/(i.right-this._uPrev.getWidth()-e.getWidth())*this._nTotal},H.$flushThumb=function(){var t=this._uThumb,e=this._nTotal,i=this.getWidth(),n=this._uPrev.getWidth(),s=this.getBodyWidth(),o=h(r(s*i/(i+e)),t.getMinimumWidth()+5);e&&(t.$setSize(o),t.setPosition(n+r(this._nValue/e*(s-o)),0),t.setRange(0,s+n,0,n))},H.$getPageStep=function(){var t=this.getWidth();return t-t%this._nStep},H.$setSize=function(t,e){x.$setSize.call(this,t,e);var i=this.getBodyHeight(),n=this.$$paddingLeft,s=this._uNext;this._uPrev.$setSize(n,i),s.$setSize(this.$$paddingRight,i),this._uThumb.$setSize(0,i),s.setPosition(this.getBodyWidth()+n,0),this.$flushThumb()},H.getMouseDirection=function(){return v(this)<this._uThumb.getX()?-1:v(this)>this._uThumb.getX()+this._uThumb.getWidth()?1:0}}(),function(){function t(t){w(y(u(x(t).target)),"scroll")}var e=ecui,i=e.dom,n=e.ui,s=e.util,o=Math,a=o.max,r=o.min,h=o.floor,l=i.create,u=i.getParent,c=i.getPosition,d=i.getStyle,g=i.moveElements,p=s.attachEvent,f=s.blank,_=s.detachEvent,v=s.toNumber,b=e.$fastCreate,m=e.calcHeightRevise,$=e.calcWidthRevise,y=e.findControl,T=e.getKey,S=e.getScrollNarrow,C=e.inherits,w=e.triggerEvent,x=e.wrapEvent,P=n.Control,B=P.prototype,M=n.VScrollbar,D=n.HScrollbar,E=C(P,null,null,function(e){_(e,"scroll",t),p(e,"scroll",t)}),H=E.prototype;H.$hide=H.hide=function(){this.getMain().style[this._aProperty[0]]="hidden",H.setValue.call(this,0)},H.$setValue=function(t){this.getMain()[this._aProperty[1]]=r(a(0,t),this.getTotal())},H.$show=H.show=function(){this.getMain().style[this._aProperty[0]]="scroll"},H.getHeight=function(){return this._aProperty[4]?this.getMain()[this._aProperty[4]]:S()},H.getTotal=function(){return v(this.getMain().lastChild.style[this._aProperty[2]])},H.getValue=function(){return this.getMain()[this._aProperty[1]]},H.getWidth=function(){return this._aProperty[3]?this.getMain()[this._aProperty[3]]:S()},H.isShow=function(){return"hidden"!=this.getMain().style[this._aProperty[0]]},H.setTotal=function(t){this.getMain().lastChild.style[this._aProperty[2]]=t+"px"},H.setValue=function(t){this.$setValue(t),w(this.getParent(),"scroll")},H.$cache=H.$getPageStep=H.$setPageStep=H.$setSize=H.alterClass=H.cache=H.getStep=H.init=H.setPosition=H.setStep=H.skip=f;var k=C(E,null,null,function(){this._aProperty=["overflowY","scrollTop","height",null,"offsetHeight"]}),I=C(E,null,null,function(){this._aProperty=["overflowX","scrollLeft","width","offsetWidth",null]}),V=C(P),W=V.prototype;!function(){for(var t in B)W[t]=f}();var N=n.Panel=C(P,"ui-panel",function(t,e){var i=e.vScroll!==!1,n=e.hScroll!==!1,s=this.getType(),o=l(s+"-body","position:absolute;top:0px;left:0px"+(n?";white-space:nowrap":""));t.style.overflow="hidden",g(t,o,!0),t.innerHTML=(e.browser?'<div style="position:absolute;top:0px;left:0px;overflow:auto;padding:0px;border:0px"><div style="width:1px;height:1px;padding:0px;border:0px"></div></div>':(i?'<div class="'+s+"-vscrollbar"+this.VScrollbar.TYPES+'" style="position:absolute"></div>':"")+(n?'<div class="'+s+"-hscrollbar"+this.HScrollbar.TYPES+'" style="position:absolute"></div>':"")+(i&&n?'<div class="'+s+"-corner"+P.TYPES+'" style="position:absolute"></div>':""))+'<div class="'+s+'-layout" style="position:relative;overflow:hidden;padding:0px"></div>',t.lastChild.appendChild(o)},function(t,e){var i,n=0,s=e.browser,o=e.vScroll!==!1,a=e.hScroll!==!1,r=[[o,"_uVScrollbar",s?k:this.VScrollbar],[a,"_uHScrollbar",s?I:this.HScrollbar],[o&&a,"_uCorner",s?V:P]];for(this.$setBody(t.lastChild.lastChild),this._bAbsolute=e.absolute,this._nWheelDelta=e.wheelDelta,t=t.firstChild,s&&(this._eBrowser=t);i=r[n++];)i[0]&&(this[i[1]]=b(i[2],t,this),s||(t=t.nextSibling))}),R=N.prototype;R.VScrollbar=M,R.HScrollbar=D,R.$cache=function(t,e){B.$cache.call(this,t,e);var i=this.getBody(),n=i.offsetWidth,s=i.offsetHeight;if(t=d(u(i)),this.$$bodyWidthRevise=$(t),this.$$bodyHeightRevise=m(t),this._bAbsolute)for(var o=0,r=i.all||i.getElementsByTagName("*"),h=c(i);i=r[o++];)i.offsetWidth&&"absolute"==d(i,"position")&&(t=c(i),n=a(n,t.left-h.left+i.offsetWidth),s=a(s,t.top-h.top+i.offsetHeight));this.$$mainWidth=n,this.$$mainHeight=s,this._uVScrollbar&&this._uVScrollbar.cache(!0,!0),this._uHScrollbar&&this._uHScrollbar.cache(!0,!0),this._uCorner&&this._uCorner.cache(!0,!0)},R.$dispose=function(){this._eBrowser=null,B.$dispose.call(this)},R.$keydown=R.$keypress=function(t){var e=T(),i=e%2?this._uHScrollbar:this._uVScrollbar;return e>=37&&40>=e&&!t.target.value?(i&&i.skip(e+e%2-39),!1):void 0},R.$mousewheel=function(t){if(this.isHovered()&&(e=this._uVScrollbar,e&&e.isShow())){var e,i=e.getValue(),n=this._nWheelDelta||h(20/e.getStep())||1;return e.skip(t.detail>0?n:-n),t.stopPropagation(),i==e.getValue()}},R.$scroll=function(){var t=this.getBody().style;t.left=-a(this.getScrollLeft(),0)+"px",t.top=-a(this.getScrollTop(),0)+"px"},R.$setSize=function(t,e){B.$setSize.call(this,t,e),this.$locate();var i=this.$getBasicWidth(),n=this.$getBasicHeight(),s=this.$$paddingLeft+this.$$paddingRight,o=this.$$paddingTop+this.$$paddingBottom,a=this.getWidth()-i,r=this.getHeight()-n,h=this.$$mainWidth,l=this.$$mainHeight,c=this._eBrowser,d=this._uVScrollbar,g=this._uHScrollbar,p=this._uCorner,f=d?d.getWidth():0,_=g?g.getHeight():0,v=a-f,b=r-_,m=v+s,$=b+o;if(d&&d.setPosition(m,0),g&&g.setPosition(0,$),p&&p.setPosition(m,$),a>=h&&r>=l)d&&d.$hide(),g&&g.$hide(),p&&p.$hide(),v=a,b=r;else for(;;){if(p){if(h>v&&l>b){g.$setSize(m),g.setTotal(c?h+i:h-v),g.$show(),d.$setSize(0,$),d.setTotal(c?l+n:l-b),d.$show(),p.$setSize(f,_),p.$show();break}p.$hide()}g&&(h>a?(g.$setSize(a+s),g.setTotal(c?h+i:h-a),g.$show(),d&&d.$hide(),v=a):g.$hide()),d&&(l>r?(d.$setSize(0,r+o),d.setTotal(c?l+n:l-r),d.$show(),g&&g.$hide(),b=r):d.$hide());break}v-=this.$$bodyWidthRevise,b-=this.$$bodyHeightRevise,d&&d.$setPageStep(b),g&&g.$setPageStep(v),c&&(p=c.style,p.width=a+s+"px",p.height=r+o+"px"),p=u(this.getBody()).style,p.width=v+"px",p.height=b+"px"},R.getScrollLeft=function(){var t=this._uHScrollbar;return t?t.getValue():-1},R.getScrollTop=function(){var t=this._uVScrollbar;return t?t.getValue():-1},R.init=function(){B.init.call(this),this._uVScrollbar&&this._uVScrollbar.init(),this._uHScrollbar&&this._uHScrollbar.init(),this._uCorner&&this._uCorner.init()},R.reset=function(){this._uVScrollbar&&this._uVScrollbar.setValue(0),this._uHScrollbar&&this._uHScrollbar.setValue(0)}}(),function(){var t,e=ecui,i=e.array,n=e.dom,s=e.string,o=e.ui,a=e.util,r=i.indexOf,h=i.remove,l=n.children,u=n.create,c=n.insertBefore,d=s.trim,g=a.blank,p=a.callSuper,f=e.$fastCreate,_=e.getOptions,v=e.inherits,b=e.triggerEvent,m=o.Control,$=m.prototype,y=o.Item=v(m,"ui-item",function(t){t.style.overflow="hidden"}),T=y.prototype,S=o.Items={};T.$click=function(t){$.$click.call(this,t);var e=this.getParent();e&&b(e,"itemclick",t,[r(S[e.getUID()],this)])},S.$append=function(t){return t instanceof(this.Item||y)&&p(this,"$append")!==!1?(S[this.getUID()].push(t),this.$alterItems(),void 0):!1},S.$cache=function(){p(this,"$cache");for(var t,e=0,i=S[this.getUID()];t=i[e++];)t.cache(!0,!0)},S.$dispose=function(){delete S[this.getUID()],p(this,"$dispose")},S.$initItems=function(){this.$alterItems=this.$initItems=g,S[this.getUID()]=[];for(var t,e=0,i=l(this.getBody());t=i[e++];)this.add(t);delete this.$alterItems},S.$remove=function(t){p(this,"$remove"),h(S[this.getUID()],t),this.$alterItems()},S.add=function(t,e,i){var n,s=S[this.getUID()];return t instanceof y?t.setParent(this):("string"==typeof t&&(this.getBody().appendChild(n=u()),n.innerHTML=t,t=n),n=this.Item||y,t.className=d(t.className)+" "+this.getType()+"-item"+n.TYPES,i=i||_(t),i.parent=this,i.select=!1,s.push(t=f(n,t,this,i)),this.$alterItems()),t.getParent()&&(n=s[e])&&n!=t&&(c(t.getOuter(),n.getOuter()),s.splice(e,0,s.pop())),t},S.append=function(e,i){this.add(e,t,i)},S.getItems=function(){return S[this.getUID()].slice()},S.init=function(){p(this,"init"),this.$alterItems()},S.remove=function(t){return"number"==typeof t&&(t=S[this.getUID()][t]),t&&t.setParent(),t||null},S.setItemSize=function(t,e){for(var i,n=0,s=S[this.getUID()];i=s[n++];)i.$setSize(t,e)}}(),function(){function t(t){var e=t._uOptions,i=e.$getSection("VScrollbar"),n=e.getOuter(),s=v(t.getOuter()),o=t._cSelected,a=s.top+t.getHeight();_(n)||(l.body.appendChild(n),t.cache(!1,!0),t.$alterItems()),e.isShow()&&(o&&k(o),i.setValue(i.getStep()*g(t.getItems(),o)),t=e.getHeight(),e.setPosition(s.left,a+t<=C().bottom?a:s.top-t))}function e(t,e){e!==t._cSelected&&(t._uText.setContent(e?e.getBody().innerHTML:""),W.setValue.call(t,e?e._sValue:""),t._cSelected=e,t._uOptions.isShow()&&k(e))}var i,n=ecui,s=n.array,o=n.dom,a=n.string,r=n.ui,h=n.util,l=document,u=Math,c=u.max,d=u.min,g=s.indexOf,p=o.children,f=o.create,_=o.getParent,v=o.getPosition,b=o.getText,m=(o.insertAfter,o.insertBefore),$=o.moveElements,y=o.remove,T=a.encodeHTML,S=h.extend,C=h.getView,w=h.setDefault,x=n.$fastCreate,P=n.getAttributeName,B=n.getFocused,M=n.inherits,D=n.intercept,E=n.mask,H=n.restore,k=n.setFocused,I=n.triggerEvent,V=r.InputControl,W=V.prototype,N=r.Button,R=r.Scrollbar,L=r.Panel,Y=L.prototype,z=r.Item,O=z.prototype,F=r.Items,A=r.Select=M(V,"ui-select",function(t,e){var i=t.name||e.name||"",n=this.getType(),s=e.id||"id_notset",o=f(n+"-options"+this.Options.TYPES,"position:absolute;z-index:65535;display:none");if(o.setAttribute("ecui_id",s),w(e,"hidden",!0),"SELECT"==t.tagName){var a=0,r=[],h=t.options,l=t;for(e.value=t.value,t=m(f(t.className,t.style.cssText,"span"),t),y(l);l=h[a];)r[a++]="<div "+P()+'="value:'+T(l.value)+'">'+l.text+"</div>";o.innerHTML=r.join("")}else $(t,o);return t.innerHTML='<span class="'+n+"-text"+z.TYPES+'"></span><span class="'+n+"-button"+N.TYPES+'" style="position:absolute"></span><input name="'+i+'" value="'+T(e.value||"")+'">',t.appendChild(o),t},function(t,e){t=p(t),this._uText=x(z,t[0],this,{capturable:!1}),this._uButton=x(N,t[1],this,{capturable:!1}),this._uOptions=x(this.Options,y(t[3]),this,{hScroll:!1,browser:e.browser}),this.$setBody(this._uOptions.getBody()),this._nOptionSize=e.optionSize||5,this.$initItems()}),U=A.prototype,j=(U.Options=M(L)).prototype,X=(U.Item=M(z,null,null,function(t,e){this._sValue=e.value===i?b(t):""+e.value})).prototype;S(U,F),j.$dispose=function(){this.hide(),Y.$dispose.call(this)},j.$hide=function(){Y.$hide.call(this),E(),H()},X.$mouseover=function(t){O.$mouseover.call(this,t),k(this)},X.getValue=function(){return this._sValue},X.setValue=function(t){var e=this.getParent();this._sValue=t,e&&this==e._cSelected&&W.setValue.call(e,t)},U.$activate=function(e){e.getControl()instanceof R||(W.$activate.call(this,e),this._uOptions.show(),D(this),E(0,65534),t(this),e.stopPropagation())},U.$alterItems=function(){var t=this._uOptions,e=t.$getSection("VScrollbar"),i=this._nOptionSize,n=this.getBodyHeight(),s=this.getWidth(),o=this.getItems().length;_(t.getOuter())&&(e.setStep(n),this.setItemSize(s-t.getMinimumWidth()-(o>i?e.getWidth():0),n),t.$$mainHeight=o*n+t.$$bodyHeightRevise,t.$setSize(s,(d(o,i)||1)*n+t.getMinimumHeight()))},U.$cache=function(t,e){(_(this._uOptions.getOuter())?F:W).$cache.call(this,t,e),this._uText.cache(!1,!0),this._uButton.cache(!1,!0),this._uOptions.cache(!1,!0)},U.$intercept=function(t){this._uOptions.hide();for(var i=t.getControl();i;i=i.getParent())if(i instanceof this.Item){i!=this._cSelected&&(e(this,i),I(this,"change"));break}t.exit()},U.$keydown=U.$keypress=function(t){W["$"+t.type](t);var i=this._uOptions,n=i.$getSection("VScrollbar"),s=this._nOptionSize,o=t.which,a=this.getItems(),r=a.length,h=B();if(this.isFocused()){if(40==o||38==o)return r&&(i.isShow()?(k(a[o=d(c(0,g(a,h)+o-39),r-1)]),o-=n.getValue()/n.getStep(),n.skip(0>o?o:o>=s?o-s+1:0)):this.setSelectedIndex(d(c(0,g(a,this._cSelected)+o-39),r-1))),!1;if(27==o||13==o&&i.isShow())return i.hide(),13==o&&(e(this,h),I(this,"change")),!1}},U.$mousewheel=function(t){if(this.isFocused()){var e=this._uOptions,i=this.getItems(),n=i.length;e.isShow()?e.$mousewheel(t):(e=g(i,this._cSelected)+(t.detail>0?1:-1),this.setSelectedIndex(n?d(c(0,e),n-1):null),e>=0&&n>e&&I(this,"change")),t.exit()}},U.$ready=function(){this.setValue(this.getValue())},U.remove=function(t){return"number"==typeof t&&(t=this.getItems()[t]),t==this._cSelected&&e(this),F.remove.call(this,t)},U.add=function(t,e,i){return t=F.add.call(this,t,e,i),_(this._uOptions.getOuter())&&t.cache(!0,!0),t},U.$setSize=function(t,e){W.$setSize.call(this,t,e),this.$locate(),e=this.getBodyHeight(),this._uText.$setSize(t=this.getBodyWidth()-e,e),this._uButton.$setSize(e,e),this._uButton.setPosition(t,0)},U.getSelected=function(){return this._cSelected||null},U.setOptionSize=function(e){this._nOptionSize=e,this.$alterItems(),t(this)},U.setSelectedIndex=function(t){e(this,this.getItems()[t])},U.setValue=function(t){for(var i,n=0,s=this.getItems();i=s[n++];)if(i._sValue==t)return e(this,i),void 0;e(this)}}(),function(){function t(t){k.push(k.splice(u(k,t),1)[0]);for(var e,i=0,n=k.length-I;e=k[i++];)e.getOuter().style.zIndex=i>n?32767+2*(i-n):4095+i}var e,i=ecui,n=i.array,s=i.dom,o=i.ui,a=i.string,r=i.util,h=Math,l=h.max,u=n.indexOf,c=s.children,d=s.create,g=s.first,p=s.getStyle,f=s.moveElements,_=a.encodeHTML,v=r.getView,b=i.$fastCreate,m=i.calcHeightRevise,$=i.calcWidthRevise,y=i.drag,T=i.inherits,S=i.loseFocus,C=i.mask,w=i.setFocused,x=o.Control,P=o.Control.prototype,B=o.Button,M=o.Form=T(x,"ui-form",function(t,e){var i=this.getType(),n=d(i+"-body","position:relative;overflow:auto"),s=g(t);f(t,n,!0),s&&"LABEL"==s.tagName?(t.innerHTML='<div class="'+i+"-close"+this.Close.TYPES+'" style="position:absolute"></div>',t.insertBefore(s,t.firstChild),s.className=i+"-title"+this.Title.TYPES,s.style.position="absolute"):(t.innerHTML='<label class="'+i+"-title"+this.Title.TYPES+'" style="position:absolute">'+(e.title?_(e.title):"")+'</label><div class="'+i+"-close"+this.Close.TYPES+'" style="position:absolute"></div>',s=t.firstChild),t.style.overflow="hidden",t.appendChild(n)},function(t,e){this._bAutoHeight=!t.style.height,t=c(t),this._bFlag=e.hide,this._bAutoTitle=e.autoTitle!==!1,this._bAutoCenter=e.autoCenter===!0,this._uTitle=b(this.Title,t[0],this,{userSelect:!1}),this._uClose=b(this.Close,t[1],this),e.closeButton===!1&&this._uClose.$hide(),this.$setBody(t[2])}),D=M.prototype,E=(D.Title=T(x)).prototype,H=(D.Close=T(B)).prototype,k=[],I=0;E.$activate=function(t){P.$activate.call(this,t),y(this.getParent(),t)},H.$click=function(t){P.$click.call(this,t),this.getParent().hide()},D.$cache=function(t,e){P.$cache.call(this,t,e),t=p(this.getMain().lastChild),this.$$bodyWidthRevise=$(t),this.$$bodyHeightRevise=m(t),this._uTitle.cache(!0,!0),this._uClose.cache(!0,!0)},D.$dispose=function(){if(u(k,this)>=0)try{this.$hide()}catch(t){}P.$dispose.call(this)},D.$focus=function(){P.$focus.call(this),t(this)},D.$hide=function(){var t=u(k,this);t>=0&&k.splice(t,1),t>k.length-I&&(this._bFlag&&(t==k.length?C():k[t]._bFlag=!0,this._bFlag=!1),I--),P.$hide.call(this),S(this)},D.$setSize=function(t,e){this._bAutoHeight&&(e=null),P.$setSize.call(this,t,e),this.$locate();var i=this.getMain().lastChild.style;i.width=this.getBodyWidth()+"px",this._bAutoHeight||(i.height=this.getBodyHeight()+"px"),this._bAutoTitle&&this._uTitle.$setSize(this.getWidth()-this.$getBasicWidth())},D.$show=function(){k.push(this),P.$show.call(this),w(this)},D.center=function(){if(t=this.getOuter(),t.style.position=this.$$position="absolute",t=t.offsetParent,t&&"BODY"!=t.tagName&&"HTML"!=t.tagName)e=t.offsetWidth,i=t.offsetHeight;else var t=v(),e=t.right+t.left,i=t.bottom+t.top;this.setPosition(l((e-this.getWidth())/2,0),l((i-this.getHeight())/2,0))},D.hide=function(){for(var t,e=u(k,this);t=k[++e];)if(t._bFlag)return!1;return P.hide.call(this)},D.init=function(){P.init.call(this),this._uTitle.init(),this._uClose.init(),this._bFlag?(this._bFlag=!1,this.$hide()):this.$show()},D.setTitle=function(t){this._uTitle.setContent(t||"")},D.show=function(){I&&u(k,this)<k.length-I&&I++;var e=P.show.call(this);return e?this._bAutoCenter&&this.center():t(this),e},D.$resize=function(){var t=this.getMain().lastChild.style;P.$resize.call(this),t.width="",t.height=""},D.getHeight=function(){return this._bAutoHeight&&this.cache(!0,!0),P.getHeight.call(this)},D.showModal=function(i){this._bFlag||(u(k,this)<k.length-I&&I++,C(i!==e?i:.05,32766+2*I),this._bFlag=!0,P.show.call(this)?this._bAutoCenter&&this.center():t(this))}}(),function(){var t=ecui,e=t.ui,i=t.util,n=t.inherits,s=t.$connect,o=t.triggerEvent,a=i.blank,r=e.Control,h=r.prototype,l=["click","mouseover","mouseout","mouseup","mousedown"],u=e.Label=n(r,"ui-label",null,function(t,e){this._bResizable=!1,s(this,this.setFor,e["for"])}),c=u.prototype;c.setFor=function(t){this._cFor=t},c.$setSize=a,function(){var t,e;for(t=0;e=l[t];t++)c["$"+e]=function(t){return function(e){h["$"+t].call(this,e);var i=this._cFor;i&&!i.isDisabled()&&o(i,t,e)}}(e)}()}(),function(){function t(t){var e,i,n=[];for(e=0;i=t[e];e++)n.push(l({},i));return n}function e(t,e){var i,n=[];t=l({},t),t=l(t,$);for(var s in t)i={handler:t[s]},s=s.split(/\s+/),s[0]==e&&(i.selector=s[1],n.push(i));return n}function i(t,e){var i,n,s,o=!0;return t||e?(e.replace(/^([^.#]*)([.#]?)(.*)$/,function(t,e,o,a){i=e,s=o,n=a}),i&&t.tagName.toLowerCase()!=i&&(o=!1),"."!=s||new RegExp("(^|\\s+)"+n+"(\\s+|$)").test(t.className)||(o=!1),"#"==s&&t.id!=n&&(o=!1),o):!1}function n(t,e,i){var n,s,o,a,r,h,l=[];for(n=0;s=e[n];n++){for(l.push('<tr class="'+i+'-row">'),o=0;a=t[o];o++)h=i+"-cell",a.align?h+=" "+i+"-cell-align-"+a.align:a.checkbox&&(h+=" "+i+"-cell-align-center"),l.push('<td class="'+h+'">'),a.checkbox?(l.push('<input type="checkbox" value="'+s[a.content]+'" class="'+i+'-checkbox"'),a.checkedField&&1==s[a.checkedField]&&l.push(' checked="checked"'),l.push(" />")):"function"==typeof a.content?l.push(a.content.call(null,s,n)):(r=s[a.content],r=r||0==r?d(r+""):"&nbsp;",l.push(r)),l.push("</td>");l.push("</tr>")}return l.join("")}var s,o=ecui,a=o.string,r=o.ui,h=o.util,a=o.string,l=h.extend,u=h.blank,c=h.attachEvent,d=a.encodeHTML,g=o.inherits,p=o.triggerEvent,f=r.Control,_=f.prototype,v=r.LiteTable=g(f,"ui-lite-table",function(t,e){e.resizable=!1},function(t,e){this._aData=[],this._aFields=[],this._eCheckboxAll=null,this._aCheckboxs=[],this._sEmptyText=e.emptyText||"",this._bCheckedHighlight=e.checkedHighlight===!0}),b=v.prototype,m=["click","mouseup","mousedown"],$={"click th.ui-lite-table-hcell-sort":function(t,e){var i,n=this.getAttribute("data-field");i=this.className.indexOf("-sort-desc")>=0?"asc":this.className.indexOf("-sort-asc")>=0?"desc":this.getAttribute("data-orderby")||"desc",p(e,"sort",null,[n,i])},"click input.ui-lite-table-checkbox-all":function(t,e){e.$refreshCheckbox(this.checked)},"click input.ui-lite-table-checkbox":function(t,e){e.$refreshCheckbox()}};b.$setSize=u,b.init=function(){var t,e,i=this.getOuter(),n=this;for(_.init.call(this),t=0;e=m[t];t++)c(i,e,function(t){return function(e){var i=e||window.event;i.targetElement=i.target||i.srcElement,n.$fireEventHanlder(t,i)}}(e))},b.setData=function(e,i,n){this._aData=t(e),i&&(this._sSortby=i.sortby||"",this._sOrderby=i.orderby||""),!n&&this.render()},b.getData=function(){return t(this._aData)},b.getDataByField=function(t,e){var i,n;for(e=e||"id",i=0;n=this._aData[i];i++)if(n[e]==t)return l({},n);return null},b.setFields=function(e,i){this._aFields=t(e),!i&&this.render()},b.getSelection=function(){var t,e,i=[];for(t=0;e=this._aCheckboxs[t];t++)e.checked&&i.push(e.value);return i},b.render=function(){var t,e,i,s=this.getTypes()[0],o=['<table cellpadding="0" cellspacing="0" width="100%" class="'+s+'-table">'],a=this._aFields,r=this._aData;if(a&&!(a.length<=0)){for(o.push('<tr class="'+s+'-head">'),t=0;e=a[t];t++)i=s+"-hcell",e.checkbox?(i+=" "+s+"-hcell-checkbox",o.push('<th class="'+i+'"><input type="checkbox" class="'+s+'-checkbox-all" /></th>')):(o.push("<th"),e.width&&o.push(' width="'+e.width+'"'),e.sortable&&(i+=" "+s+"-hcell-sort",e.field&&e.field==this._sSortby&&(i+=" "+s+"-hcell-sort-"+this._sOrderby),o.push(' data-field="'+e.field+'"'),e.orderby&&o.push(' data-orderby="'+e.orderby+'"')),o.push(' class="'+i+'">'+e.title+"</th>"));o.push("</tr>"),!r||r.length<=0?o.push('<tr class="'+s+'-row"><td colspan="'+a.length+'" class="'+s+'-cell-empty">'+this._sEmptyText+"</td></tr>"):o.push(n(a,r,s)),o.push("</table>"),this.setContent(o.join("")),this.$bindCheckbox(),this._eCheckboxAll&&this.$refreshCheckbox()}},b.$bindCheckbox=function(){var t,e,i=this.getBody().getElementsByTagName("input"),n=this.getTypes()[0];for(this._aCheckboxs=[],this._eCheckboxAll=null,t=0;e=i[t];t++)"checkbox"==e.type&&e.className.indexOf(n+"-checkbox-all")>=0?this._eCheckboxAll=e:"checkbox"==e.type&&e.className.indexOf(n+"-checkbox")>=0&&this._aCheckboxs.push(e)},b.$refreshCheckbox=function(t){var e,i,n,o=!0;for(e=0;i=this._aCheckboxs[e];e++)n=i.parentNode.parentNode,t!==s?i.checked=t:o=i.checked&&o,i.checked&&this._bCheckedHighlight?n.className+=" highlight":this._bCheckedHighlight&&(n.className=n.className.replace(/\s+highlight/g,""));this._eCheckboxAll.checked=t!==s?t:o},b.$fireEventHanlder=function(t,n){var s,o,a=e(this.events,t),r=n.targetElement;for(s=0;o=a[s];s++)i(r,o.selector)&&o.handler.call(r,n,this)},b.$dispose=function(){this._aCheckboxs=[],this._eCheckboxAll=null,_.$dispose.call(this)}}(),function(){function t(t,e){t._uSelected!=e&&(t._uSelected&&t._uSelected.alterClass("-selected"),e&&e.alterClass("+selected"),t._uSelected=e)}var e=ecui,i=e.array,n=e.dom,s=e.ui,o=Date,a=i.indexOf,r=n.addClass,h=n.getParent,l=n.removeClass,u=n.setText,c=e.$fastCreate,d=e.inherits,g=e.triggerEvent,p=s.Control,f=s.MonthView=d(p,"ui-monthview",function(t){var e=0,i=this.getType(),n=[];for(t.style.overflow="auto";7>e;)n[e]='<td class="'+i+"-title"+this.Cell.TYPES+'">'+f.WEEKNAMES[e++]+"</td>";for(n[e]="</tr></thead><tbody><tr>";++e<50;)n[e]='<td class="'+i+"-item"+this.Cell.TYPES+'"></td>'+(e%7?"":"</tr><tr>");t.innerHTML='<table cellspacing="0"><thead><tr>'+n.join("")+"</tr></tbody></table>"},function(t,e){this._aCells=[];for(var i,n=0,s=t.getElementsByTagName("TD");i=s[n];)this._aCells[n++]=c(this.Cell,i,this,{resizable:!1});this._oBegin=new Date(e.begin),this._oEnd=new Date(e.end),this.setView(e.year,e.month)}),_=f.prototype,v=(_.Cell=d(p)).prototype;f.WEEKNAMES=["","","","","","",""],v.$click=function(e){var i=this.getParent(),n=a(i._aCells,this),s=i._oDate;7>n?g(i,"titleclick",e,[n]):(n=new o(i._nYear,i._nMonth,this._nDay),s&&n.getTime()==s.getTime()||!g(i,"change",e,[n])||(i._oDate=new o(i._nYear,i._nMonth,this._nDay),t(i,this)))},_.getMonth=function(){return this._nMonth+1},_.getYear=function(){return this._nYear},_.move=function(t){var e=new o(this._nYear,this._nMonth+t,1);this.setView(e.getFullYear(),e.getMonth()+1)},_.setRange=function(t,e,i){this._oBegin=t,this._oEnd=e,i||this.setView(this.getYear(),this.getMonth())},_.setDate=function(t){this.$setDate(t),this.setView(t.getFullYear(),t.getMonth()+1)},_.getDate=function(){return this._oDate},_.$setDate=function(t){this._oDate=t?new o(t.getFullYear(),t.getMonth(),t.getDate()):null},_.setView=function(e,i){var n,s=7,a=new o,e=e||a.getFullYear(),i=i?i-1:a.getMonth(),c=new o(e,i,0),d=1-c.getDay(),g=c.getDate(),p=new o(e,i+1,0).getDate(),f=this._oBegin,_=this._oEnd,v=this._oDate;for(this._nYear=e,this._nMonth=i,f=f?new Date(f.getFullYear(),f.getMonth(),f.getDate()).getTime():0,_=_?new Date(_.getFullYear(),_.getMonth(),_.getDate()).getTime():Number.MAX_VALUE,v=v&&v.getFullYear()==e&&v.getMonth()==i?v.getDate():0,t(this,null);c=this._aCells[s++];)(i=d>0&&p>=d)?(n=new Date(this._nYear,this._nMonth,d).getTime(),f>n||n>_?c.disable():(c.enable(),d==v&&t(this,c))):c.disable(),(36==s||43==s)&&(c.isDisabled()?r:l)(h(c.getOuter()),this.getType()+"-extra"),u(c.getBody(),i?d:d>p?d-p:g+d),c._nDay=d++
}}(),function(){function t(t){return t=t.split("-"),new Date(t[0],parseInt(t[1],10)-1,t[2])}function e(t,e){var i,n=new Date,s=null,o=[n.getFullYear(),n.getMonth(),n.getDate()],a={y:0,M:1,d:2};return t instanceof Date?(s=s||{},s.begin=t):/^([-+]?)(\d+)([yMd])$/.test(t)?(s=s||{},i=o.slice(),u.$1&&"+"!=u.$1?i[a[u.$3]]+=parseInt(u.$2,10):i[a[u.$3]]-=parseInt(u.$2,10),s.begin=new Date(i[0],i[1],i[2])):"[object String]"==Object.prototype.toString.call(t)&&(s=s||{},t=t.split("-"),s.begin=new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10))),e instanceof Date?(s=s||{},s.end=e):/^([-+]?)(\d+)([yMd])$/.test(e)?(s=s||{},i=o.slice(),u.$1&&"+"!=u.$1?i[a[u.$3]]-=parseInt(u.$2,10):i[a[u.$3]]+=parseInt(u.$2,10),s.end=new Date(i[0],i[1],i[2])):"[object String]"==Object.prototype.toString.call(e)&&(s=s||{},e=e.split("-"),s.end=new Date(parseInt(e[0],10),parseInt(e[1],10)-1,parseInt(e[2],10))),s?s:{}}function i(t){var e=t._eText;""==e.innerHTML?(t._uCancel.$hide(),t._bTip&&(e.innerHTML=N)):t._bCancelButton&&t._uCancel.show()}var n=ecui,s=n.array,o=n.dom,a=n.ui,r=n.string,h=n.util,l=Date,u=RegExp,c=document,d=(s.push,o.children),g=o.create,p=(o.getParent,o.getPosition),f=(o.moveElements,o.setText,r.formatDate),_=h.getView,v=n.$fastCreate,b=n.inherits,m=n.triggerEvent,$=n.setFocused,y=a.Control,T=y.prototype,S=a.Button,C=S.prototype,w=a.InputControl,x=w.prototype,P=a.Select,B=a.MonthView;B.Cell;var M=a.Calendar=b(w,"ui-calendar",function(t,e){var i=this.getTypes()[0];e.hidden=!0,t.innerHTML='<span class="'+i+'-text"></span><span class="'+i+'-cancel"></span><span class="'+i+'-button"></span>'},function(t,i){var n=d(t),s=this.getTypes()[0],o=g(s+"-panel","position:absolute;display:none");if(this._bTip=i.tip!==!1,i.date){var a=i.date.split("-");this._oDate=new l(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10))}else this._oDate=i.date===!1?null:new l;var r=e(i.start,i.end);this._eText=n[0],this._uCancel=v(this.Cancel,n[1],this),this._uButton=v(y,n[2],this),this._bCancelButton=i.cancelButton!==!1,this._bCancelButton||this._uCancel.$hide(),c.body.appendChild(o),this._uPanel=v(this.Panel,o,this,{date:this._oDate,range:r})}),D=M.prototype,E=(D.Cancel=b(y)).prototype,H=D.Panel=b(y,"ui-calendar-panel",function(t,e){var i=[],n=((new l).getFullYear(),this.getTypes()[0]),s=new Date,o=s.getFullYear()-5,a=s.getFullYear()+5,r=e.range.begin,h=e.range.end;r&&(o=r.getFullYear()),h&&(a=h.getFullYear()),i.push('<div class="'+n+'-buttons"><div class="'+n+"-btn-prv"+S.TYPES+'"></div><select class="'+n+"-slt-year"+P.TYPES+'">');for(var u=o;a>=u;u++)i.push('<option value="'+u+'">'+u+"</option>");i.push('</select><select class="'+n+"-slt-month"+P.TYPES+'">');for(var u=1;12>=u;u++)i.push('<option value="'+u+'">'+(10>u?"0":"")+u+"</option>");i.push('</select><div class="'+n+"-btn-nxt"+S.TYPES+'"></div></div>'),i.push('<div class="'+n+"-month-view"+B.TYPES+'"></div>'),t.innerHTML=i.join("")},function(t,e){var i,n=(this.getTypes()[0],this.Button),s=this.Select,o=this.MonthView;e.date,t=d(t),i=d(t[0]),this._uPrvBtn=v(n,i[0],this),this._uPrvBtn._nStep=-1,this._uYearSlt=v(s,i[1],this),this._uMonthSlt=v(s,i[2],this),this._uNxtBtn=v(n,i[3],this),this._uNxtBtn._nStep=1,t=t[1],this._uMonthView=v(o,t,this,{begin:e.range.begin,end:e.range.end})}),k=H.prototype,I=(k.Button=b(S,null)).prototype,V=(k.Select=b(P,null)).prototype,W=(k.MonthView=b(B,null)).prototype,N='<span class="ui-calendar-default"></span>',R="yyyy-MM-dd";D.getValue=function(){return this._oDate?f(this._oDate,R):""},D.setValue=function(e){e=t(e),this.setDate(e)},D.getDate=function(){return this._oDate},D.setDate=function(t){var e=(this._uPanel,null!=t?f(t,R):"");this._uPanel.isShow()&&this._uPanel.hide(),this._eText.innerHTML=e,x.setValue.call(this,e),this._oDate=t,i(this)},D.setValue=function(t){t?(t=t.split("-"),this.setDate(new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10)))):this.setDate(null)},D.$activate=function(t){var e,i=this._uPanel,n=p(this.getOuter()),s=n.top+this.getHeight();x.$activate.call(this,t),i.isShow()||(i.setDate(this.getDate()),e=_(),i.show(),i.setPosition(n.left+i.getWidth()<=e.right?n.left:e.right-i.getWidth()>0?e.right-i.getWidth():0,s+i.getHeight()<=e.bottom?s:n.top-i.getHeight()>0?n.top-i.getHeight():0),$(i))},D.$cache=function(t,e){x.$cache.call(this,t,e),this._uButton.cache(!1,!0),this._uPanel.cache(!0,!0)},D.init=function(){x.init.call(this),this.setDate(this._oDate),this._uPanel.init()},D.clear=function(){this.setDate(null)},D.setRange=function(t,e){this._uPanel._uMonthView.setRange(t,e)},E.$click=function(){var t=this.getParent();t._uPanel,T.$click.call(this),t.setDate(null)},E.$activate=C.$activate,k.$blur=function(){this.hide()},k.setDate=function(t){var e=null!=t?t.getFullYear():(new Date).getFullYear(),i=null!=t?t.getMonth()+1:(new Date).getMonth()+1;this._uMonthView.$setDate(t),this.setView(e,i)},k.setView=function(t,e){var i=this._uMonthSlt,n=this._uYearSlt,s=this._uMonthView;n.setValue(t),i.setValue(e),s.setView(t,e)},k.getViewYear=function(){return this._uMonthView.getYear()},k.getViewMonth=function(){return this._uMonthView.getMonth()},k.$cache=function(t,e){this._uPrvBtn.cache(!0,!0),this._uNxtBtn.cache(!0,!0),this._uMonthSlt.cache(!0,!0),this._uYearSlt.cache(!0,!0),this._uMonthView.cache(!0,!0),T.$cache.call(this,t,e)},k.init=function(){T.init.call(this),this._uMonthSlt.init(),this._uYearSlt.init(),this._uMonthView.init()},k.$change=function(t,e){var i=this.getParent();m(i,"change",t,[e])&&i.setDate(e),this.hide()},V.$change=function(){var t=this.getParent(),e=t._uYearSlt,i=t._uMonthSlt;t.setView(e.getValue(),i.getValue())},I.$click=function(){var t,e=this._nStep,i=this.getParent();t=new l(i.getViewYear(),i.getViewMonth()-1+e,1),i.setView(t.getFullYear(),t.getMonth()+1)},W.$change=function(t,e){m(this.getParent(),"change",t,[e])}}(),function(){function t(t){var e=t._eText;""==e.innerHTML?(t._uCancel.hide(),t._bTip&&(e.innerHTML=S)):t._uCancel.show()}function e(t){return t=t.split("-"),new Date(t[0],parseInt(t[1],10)-1,t[2])}var i=ecui,n=i.dom,s=i.ui,o=i.string,a=n.children,r=n.create,h=(n.getParent,n.moveElements),l=o.formatDate,u=i.$fastCreate,c=i.inherits,d=i.triggerEvent,g=s.Control,p=g.prototype,f=s.Button,_=f.prototype,v=s.InputControl,b=v.prototype,m=s.Calendar,$=m.prototype,y=$.Cancel.prototype,T=$.Panel,S='<span class="ui-multi-calendar-default"></span>',C="yyyy-MM-dd",w=s.MultiCalendar=c(m,"ui-multi-calendar",function(t,e){e.hidden=!0,e.yearRange&&(this._nYearRange=e.yearRange-0),e.remind&&(S='<span class="ui-calendar-default">'+e.remind+"</span>")},function(t,e){var i,n=r();n.innerHTML='<input type="hidden" name="'+(e.beginname?e.beginname:"beginDate")+'" />'+'<input type="hidden" name="'+(e.endname?e.endname:"endDate")+'" />',e.bdate&&(i=e.bdate.split("-"),this._oBegin=new Date(i[0],parseInt(i[1],10)-1,i[2])),e.edate&&(i=e.edate.split("-"),this._oEnd=new Date(i[0],parseInt(i[1],10)-1,i[2])),i=a(n),this._eBeginInput=i[0],this._eEndInput=i[1],h(n,t,!0)}),x=w.prototype,P=x.Panel=c(g,"ui-multi-calendar-panel",function(){},function(t,e){var i=this.getTypes()[0],n=[],s=e.range||{};this._oRange=s,n.push('<div class="'+i+'-cal-area"><div class="'+i+'-text"><strong></strong><span></span></div><div class="'+T.TYPES+'"></div></div>'),n.push('<div class="'+i+'-cal-area"><div class="'+i+'-text"><strong></strong><span></span></div><div class="'+T.TYPES+'"></div></div>'),n.push('<div class="'+i+'-buttons"><div class="ui-button-g'+f.TYPES+'"></div><div class="'+f.TYPES+'"></div></div>'),t.innerHTML=n.join(""),t=a(t),this._eBeginText=t[0].firstChild.lastChild,this._eEndText=t[1].firstChild.lastChild,this._uBeginCal=u(this.Cal,t[0].lastChild,this,{range:s}),this._uBeginCal._sType="begin",this._uEndCal=u(this.Cal,t[1].lastChild,this,{range:s}),this._uEndCal._sType="end",this._uSubmitBtn=u(this.Button,t[2].firstChild,this),this._uSubmitBtn._sType="submit",this._uCancelBtn=u(this.Button,t[2].lastChild,this),this._uCancelBtn._sType="cancel"}),B=(x.Cancel=c($.Cancel)).prototype,M=P.prototype,D=(M.Cal=c(T)).prototype,E=(M.Button=c(f)).prototype;x.init=function(){b.init.call(this),this.setDate({begin:this._oBegin,end:this._oEnd}),this._uPanel.init()},x.setDate=function(e){var i,n,s=[];null==e&&(e={begin:null,end:null}),i=e.begin?l(e.begin,C):"",n=e.end?l(e.end,C):"",this._oBegin=e.begin,this._oEnd=e.end,this._eBeginInput.value=i,this._eEndInput.value=n,this._eInput.value=i+","+n,this._oBegin&&s.push(i),this._oEnd&&s.push(n),1==s.length?(s.push(this._oEnd?"":""),s=s.join("")):s=2==s.length?s.join(""):"",this._eText.innerHTML=s,t(this)},x.getDate=function(){return{begin:this._oBegin,end:this._oEnd}},x.getValue=function(){return{begin:this._oBegin?l(this._oBegin,C):"",end:this._oEnd?l(this._oEnd,C):""}},x.setValue=function(t){t.begin=e(t.begin),t.end=e(t.end),this.setDate(t)},B.$click=function(){var t=this.getParent();y.$click.call(this),t.clearRange()},x.clearRange=function(){this._uPanel._oRange.begin=null,this._uPanel._oRange.end=null,this._uPanel._uBeginCal.setRange(null,null),this._uPanel._uEndCal.setRange(null,null)},M.setDate=function(t){var e,i,n=this._oRange;this._oBeginDate=t.begin,this._oEndDate=t.end,this._eBeginText.innerHTML=t.begin?l(t.begin,C):"",this._eEndText.innerHTML=t.end?l(t.end,C):"",i=n.end?n.end:t.end,n.end&&t.end&&t.end.getTime()<n.end.getTime()&&(i=t.end),this._uBeginCal.setRange(n.begin,i,!0),this._uBeginCal.setDate(t.begin),e=n.begin?n.begin:t.begin,n.begin&&t.begin&&t.begin.getTime()>n.begin.getTime()&&(e=t.begin),this._uEndCal.setRange(e,n.end,!0),this._uEndCal.setDate(t.end)},M.$blur=function(){p.$blur.call(this),this.hide()},M.hide=function(){p.hide.call(this);var t=this.getParent(),e=t.getDate();t._nYearRange&&(e.end&&(this._oRange.begin=new Date(e.end),this._oRange.begin.setFullYear(this._oRange.begin.getFullYear()-t._nYearRange)),e.begin&&(this._oRange.end=new Date(e.begin),this._oRange.end.setFullYear(this._oRange.end.getFullYear()+t._nYearRange)))},M.init=function(){p.init.call(this),this._uBeginCal.init(),this._uEndCal.init()},M.$change=function(){var t=this.getParent(),e=this._oBeginDate,i=this._oEndDate;d(t,"change",[e,i])&&t.setDate({begin:e,end:i}),this.hide()},M.$setDate=function(t,e){var i=e.charAt(0).toUpperCase()+e.substring(1),n=this.getParent();this["_e"+i+"Text"].innerHTML=l(t,C),this["_o"+i+"Date"]=t,"begin"==e?(n._nYearRange&&(this._oRange.end=new Date(t),this._oRange.end.setFullYear(this._oRange.end.getFullYear()+n._nYearRange)),this._uEndCal.setRange(t,this._oRange.end)):(n._nYearRange&&(this._oRange.begin=new Date(t),this._oRange.begin.setFullYear(this._oRange.begin.getFullYear()-n._nYearRange)),this._uBeginCal.setRange(this._oRange.begin,t))},D.$blur=function(){p.$blur.call(this)},D.$change=function(t,e){var i=this.getParent();this._oDateSel=e,i.$setDate(e,this._sType)},D.setRange=function(t,e,i){this._uMonthView.setRange(t,e,i)},E.$click=function(){var t=this.getParent();_.$click.call(this),"submit"==this._sType?d(t,"change"):t.hide()}}(),function(){function t(t){e.hide(),this._fAction&&this._fAction.call(null,t)}var e,i=ecui,n=i.dom,s=n.create,o=i.create,a=i.dispose,r=[];i.$messagebox=function(i,n,h,l){e||(e=o("Form",{main:s("ui-form ui-messagebox"),hide:!0,parent:document.body,autoCenter:!0,closeButton:!1}),g=e.getBody(),g.innerHTML='<div class="ui-messagebox-text"></div><div class="ui-messagebox-bottom"></div>');var u,c=0,d=h.length,g=e.getBody(),p=g.lastChild;if(!e.isShow()){for(;d>r.length;)r.push(o("Button",{element:s("ui-button","","span"),parent:p}));for(a(g=g.firstChild),g.innerHTML=i;u=r[c];c++)d>c?(u.setContent(h[c].text),u.$show(),u._fAction=h[c].action,u.onclick=t,h[c].className?u.setClass(h[c].className):u.setClass(u.getPrimary())):u.$hide();e.setTitle(n||""),e.showModal(l)}},i.alert=function(t,e){i.$messagebox(t,"",[{text:"",className:"ui-button-g",action:e}])},i.confirm=function(t,e,n){i.$messagebox(t,"",[{text:"",className:"ui-button-g",action:e},{text:"",action:n}])}}(),function(){function t(){var t;return b||(t=document.body.appendChild(r(y.TYPES)),b=a(y,t),b.cache(),b.init()),b}var e=ecui,i=(e.array,e.dom),n=e.ui,s=e.util,o=e.string,a=e.$fastCreate,r=(e.setFocused,i.create),h=i.children,l=(i.last,i.moveElements,i.getPosition),u=(i.setText,e.inherits),c=(e.isContentBox,e.getStatus,s.getView),d=e.triggerEvent,g=o.trim,p=n.Control,f=p.prototype,_=500,v=200,b=(e.REPAINT,null),m=n.Tip=u(p,"ui-tip",function(t,e){e.message=g(t.innerHTML)||e.message,t.innerHTML=""},function(t,e){this._sTarget=e.target,this._sMessage=e.message,this._oTimer=null,this._bAsyn=e.asyn===!0,this._bLoad=!1}),$=m.prototype,y=$.Layer=u(p,"ui-tip-layer",function(t){t.appendChild(r(this.getTypes()+"-corner")),t.appendChild(r())},function(t){t=h(t),this._eCorner=t[0],this.$setBody(t[1])}),T=y.prototype;$.$mouseover=function(){var e=this;f.$mouseover.call(this),clearTimeout(this._oTimer),this._bShow||(this._bAsyn?(t(),this.close(),e._oTimer=setTimeout(function(){e._bLoad=!1,d(e,"loadData",function(){e.open()})},_)):this._oTimer=setTimeout(function(){e.open()},_))},$.$mouseout=function(){var t=this;f.$mouseout.call(this),clearTimeout(this._oTimer),this._bShow&&(this._oTimer=setTimeout(function(){t.close()},v))},$.$getTarget=function(t){return document.getElementById(t)},$.setTarget=function(t){this._sTarget=t},$.open=function(){var e=t();if(this._sTarget){var i=this.$getTarget(this._sTarget);i&&(e.getBody().innerHTML="[object String]"==Object.prototype.toString.call(i)?i:i.innerHTML)}else this._sMessage&&e.setContent(this._sMessage);e.show(this),this._bShow=!0},$.close=function(){t().hide(),this._bShow=!1},$.setMessage=function(t){this._sMessage=t},T.show=function(t){var e=l(t.getOuter()),i=this.getTypes()[0],n=c(),s=13,o=t.getWidth(),a=t.getHeight(),r=9,h=[];t&&(this._uHost=t),f.show.call(this),this.resize(),e.left+this.getWidth()>n.right?(e.left=e.left+o-this.getWidth()+r,h.push("-right")):(e.left=e.left-r,h.push("-left")),e.top-s-this.getHeight()<n.top&&e.top+a+s+this.getHeight()<n.bottom?(e.top+=a+s,h.push("-bottom")):(e.top-=s+this.getHeight(),h.push("-top")),this._eCorner.className=i+"-corner "+i+"-corner"+h.join(""),this.setPosition(e.left,e.top)},T.$mouseover=function(){f.$mouseover.call(this),this._uHost.$mouseover()},T.$mouseout=function(){f.$mouseout.call(this),this._uHost.$mouseout()},T.$resize=function(){var t=this._eMain,e=t.style;e.width=this._sWidth,e.height=this._sHeight,this.repaint()}}()}();